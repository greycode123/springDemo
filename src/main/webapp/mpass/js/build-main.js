/*! intel-appframework - v2.1.0 - 2014-03-25 */

/*
 Intel
 @api private
 */
if(!window.af||"function"!==typeof af){var af=function(f){function x(a,b,c){var d=k.createDocumentFragment();if(c){for(c=a.length-1;0<=c;c--)d.insertBefore(a[c],d.firstChild);b.insertBefore(d,b.firstChild)}else{for(c=0;c<a.length;c++)d.appendChild(a[c]);b.appendChild(d)}}function y(a){return a in H?H[a]:H[a]=RegExp("(^|\\s)"+a+"(\\s|$)")}function l(a){for(var b=0;b<a.length;b++)a.indexOf(a[b])!==b&&(a.splice(b,1),b--);return a}function m(a,b){var c=[];if(a==h)return c;for(;a;a=a.nextSibling)1===a.nodeType&&
    a!==b&&c.push(a);return c}function p(a,b){try{return b.querySelectorAll(a)}catch(c){return[]}}function n(a,b){if(a)if(a.nodeType)b[b.length++]=a;else for(var c=0,d=a.length;c<d;c++)b[b.length++]=a[c]}function q(){}function C(a,b){a.os={};a.os.webkit=b.match(/WebKit\/([\d.]+)/)?!0:!1;a.os.android=b.match(/(Android)\s+([\d.]+)/)||b.match(/Silk-Accelerated/)?!0:!1;a.os.androidICS=a.os.android&&b.match(/(Android)\s4/)?!0:!1;a.os.ipad=b.match(/(iPad).*OS\s([\d_]+)/)?!0:!1;a.os.iphone=!a.os.ipad&&b.match(/(iPhone\sOS)\s([\d_]+)/)?
    !0:!1;a.os.ios7=(a.os.ipad||a.os.iphone)&&b.match(/7_/)?!0:!1;a.os.webos=b.match(/(webOS|hpwOS)[\s\/]([\d.]+)/)?!0:!1;a.os.touchpad=a.os.webos&&b.match(/TouchPad/)?!0:!1;a.os.ios=a.os.ipad||a.os.iphone;a.os.playbook=b.match(/PlayBook/)?!0:!1;a.os.blackberry10=b.match(/BB10/)?!0:!1;a.os.blackberry=a.os.playbook||a.os.blackberry10||b.match(/BlackBerry/)?!0:!1;a.os.chrome=b.match(/Chrome/)?!0:!1;a.os.opera=b.match(/Opera/)?!0:!1;a.os.fennec=b.match(/fennec/i)?!0:b.match(/Firefox/)?!0:!1;a.os.ie=b.match(/MSIE 10.0/i)||
    b.match(/Trident\/7/i)?!0:!1;a.os.ieTouch=a.os.ie&&b.toLowerCase().match(/touch/i)?!0:!1;a.os.tizen=b.match(/Tizen/i)?!0:!1;a.os.supportsTouch=f.DocumentTouch&&k instanceof f.DocumentTouch||"ontouchstart"in f;a.os.kindle=b.match(/Silk-Accelerated/)?!0:!1;a.feat={};var c=k.documentElement.getElementsByTagName("head")[0];a.feat.nativeTouchScroll="undefined"!==typeof c.style["-webkit-overflow-scrolling"]&&(a.os.ios||a.os.blackberry10);a.feat.cssPrefix=a.os.webkit?"Webkit":a.os.fennec?"Moz":a.os.ie?"ms":
    a.os.opera?"O":"";a.feat.cssTransformStart=!a.os.opera?"3d(":"(";a.feat.cssTransformEnd=!a.os.opera?",0)":")";a.os.android&&!a.os.webkit&&(a.os.android=!1);for(var c=["Webkit","Moz","ms","O"],d=0;d<c.length;d++)""===k.documentElement.style[c[d]+"Transform"]&&(a.feat.cssPrefix=c[d])}function z(a){return a._afmid||(a._afmid=Q++)}function E(a,b,c,d,e){b=s(b,e);return(v[z(a)]||[]).filter(function(a){return a&&(!b.e||a.e===b.e)&&(!b.ns||0!==a.ns.indexOf(b.ns))&&(!c||a.fn===c||"function"===typeof a.fn&&
    "function"===typeof c&&a.fn===c)&&(!d||a.sel===d)})}function s(a,b){var c=(""+a).split(".");!0!==b&&c.pop();return{e:a,ns:c.join(".")}}function t(a,b,c){e.isObject(a)?e.each(a,c):a.split(/\s/).forEach(function(a){c(a,b)})}function F(a,b,c,d,g){var f=z(a),h=v[f]||(v[f]=[]);t(b,c,function(b,c){var f=g&&g(c,b),D=f||c,k=function(b){var c=D.apply(a,[b].concat(b.data));!1===c&&b.preventDefault();return c},f=e.extend(s(b),{fn:c,proxy:k,sel:d,del:f,i:h.length});h.push(f);a.addEventListener(f.e,k,!1)})}function G(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  b,c,d){var e=z(a);t(b||"",c,function(b,c){E(a,b,c,d,!0).forEach(function(b){delete v[e][b.i];a.removeEventListener(b.e,b.proxy,!1)})})}function S(a){var b=e.extend({originalEvent:a},a);e.each(T,function(c,d){b[c]=function(){this[d]=U;if("stopImmediatePropagation"===c||"stopPropagation"===c)if(a.cancelBubble=!0,!a[c])return;return a[c].apply(a,arguments)};b[d]=V});return b}function W(a,b,c,d,g){F(a,b,c,d,function(b){return function(c){var f,h=e(c.target).closest(d,a).get(0);if(h)return f=e.extend(S(c),
    {currentTarget:h,liveFired:a,delegateTarget:a,data:g}),b.apply(h,[f].concat([].slice.call(arguments,1)))}})}function J(a,b){if(b&&a.dispatchEvent){var c=e.Event("destroy",{bubbles:!1});a.dispatchEvent(c)}if((c=z(a))&&v[c]){for(var d in v[c])a.removeEventListener(v[c][d].e,v[c][d].proxy,!1);delete v[c]}}function K(a,b){if(a){var c=a.childNodes;if(c&&0<c.length)for(var d;d<c.length;d++)K(c[d],b);J(a,b)}}var h,k=f.document,A=[],L=A.slice,H={},X=1,Y=/<(\w+)[^>]*>/,u={},w={},M={columncount:!0,fontweight:!0,
    lineheight:!0,"column-count":!0,"font-weight":!0,"line-height":!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,"z-index":!0,zoom:!0},B="object"===typeof MSApp,r=function(a,b){this.length=0;if(a){if(a instanceof r&&b==h)return a;if(af.isFunction(a))return af(k).ready(a);if(af.isArray(a)&&a.length!=h){for(var c=0;c<a.length;c++)this[this.length++]=a[c];return this}if(af.isObject(a)&&af.isObject(b)){if(a.length==h)a.parentNode==b&&(this[this.length++]=a);else for(c=0;c<a.length;c++)a[c].parentNode==b&&
(this[this.length++]=a[c]);return this}if(af.isObject(a)&&b==h)return this[this.length++]=a,this;if(b!==h){if(b instanceof r)return b.find(a)}else b=k}else return this;return this.selector(a,b)},e=function(a,b){return new r(a,b)};e.is$=function(a){return a instanceof r};e.map=function(a,b){var c,d=[],g;if(e.isArray(a))for(g=0;g<a.length;g++)c=b.apply(a[g],[a[g],g]),c!==h&&d.push(c);else if(e.isObject(a))for(g in a)a.hasOwnProperty(g)&&"length"!==g&&(c=b(a[g],[a[g],g]),c!==h&&d.push(c));return d};
    e.each=function(a,b){var c;if(e.isArray(a))for(c=0;c<a.length&&!1!==b(c,a[c]);c++);else if(e.isObject(a))for(c in a)if(a.hasOwnProperty(c)&&"length"!==c&&!1===b(c,a[c]))break;return a};e.extend=function(a){a==h&&(a=this);if(1===arguments.length){for(var b in a)this[b]=a[b];return this}L.call(arguments,1).forEach(function(b){for(var d in b)a[d]=b[d]});return a};e.isArray=function(a){return a instanceof Array&&a.push!=h};e.isFunction=function(a){return"function"===typeof a&&!(a instanceof RegExp)};
    e.isObject=function(a){return"object"===typeof a&&null!==a};e.fn=r.prototype={namespace:"appframework",constructor:r,forEach:A.forEach,reduce:A.reduce,push:A.push,indexOf:A.indexOf,concat:A.concat,selector:function(a,b){a=a.trim();if("#"===a[0]&&-1===a.indexOf(".")&&-1===a.indexOf(",")&&-1===a.indexOf(" ")&&-1===a.indexOf(">"))b===k?n(b.getElementById(a.replace("#","")),this):n(p(a,b),this);else if("<"===a[0]&&">"===a[a.length-1]||-1!==a.indexOf("<")&&-1!==a.indexOf(">")){var c=k.createElement("div");
        B?MSApp.execUnsafeLocalFunction(function(){c.innerHTML=a.trim()}):c.innerHTML=a.trim();n(c.childNodes,this)}else n(p(a,b),this);return this},oldElement:void 0,slice:A.slice,length:0,setupOld:function(a){if(a==h)return e();a.oldElement=this;return a},map:function(a){var b,c=[],d;for(d=0;d<this.length;d++)b=a.apply(this[d],[d,this[d]]),b!==h&&c.push(b);return e(c)},each:function(a){this.forEach(function(b,c){a.call(b,c,b)});return this},ready:function(a){"complete"===k.readyState||"loaded"===k.readyState||
        !e.os.ie&&"interactive"===k.readyState?a():k.addEventListener("DOMContentLoaded",a,!1);return this},find:function(a){if(0===this.length)return this;for(var b=[],c,d=0;d<this.length;d++){c=e(a,this[d]);for(var g=0;g<c.length;g++)b.push(c[g])}return e(l(b))},html:function(a,b){var c=function(){g.innerHTML=a};if(0===this.length)return this;if(a===h)return this[0].innerHTML;for(var d=0;d<this.length;d++)if(!1!==b&&e.cleanUpContent(this[d],!1,!0),B){var g=this[d];MSApp.execUnsafeLocalFunction(c)}else this[d].innerHTML=
        a;return this},text:function(a){if(0===this.length)return this;if(a===h)return this[0].textContent;for(var b=0;b<this.length;b++)this[b].textContent=a;return this},css:function(a,b,c){c=c!=h?c:this[0];if(0===this.length)return this;if(b==h&&"string"===typeof a)return f.getComputedStyle(c),c.style[a]?c.style[a]:f.getComputedStyle(c)[a];for(c=0;c<this.length;c++)if(e.isObject(a))for(var d in a)this[c].style[d]="number"===typeof a[d]&&!M[d.toLowerCase()]?a[d]+"px":a[d];else this[c].style[a]="number"===
        typeof b&&!M[a.toLowerCase()]?b+"px":b;return this},vendorCss:function(a,b,c){return this.css(e.feat.cssPrefix+a,b,c)},cssTranslate:function(a){return this.vendorCss("Transform","translate"+e.feat.cssTransformStart+a+e.feat.cssTransformEnd)},computedStyle:function(a){if(!(0===this.length||a==h))return f.getComputedStyle(this[0],"")[a]},empty:function(){for(var a=0;a<this.length;a++)e.cleanUpContent(this[a],!1,!0),this[a].textContent="";return this},hide:function(){if(0===this.length)return this;for(var a=
        0;a<this.length;a++)"none"!==this.css("display",null,this[a])&&(this[a].setAttribute("afmOldStyle",this.css("display",null,this[a])),this[a].style.display="none");return this},show:function(){if(0===this.length)return this;for(var a=0;a<this.length;a++)"none"===this.css("display",null,this[a])&&(this[a].style.display=this[a].getAttribute("afmOldStyle")?this[a].getAttribute("afmOldStyle"):"block",this[a].removeAttribute("afmOldStyle"));return this},toggle:function(a){if(0===this.length)return this;
        for(var b=!0===a,c=0;c<this.length;c++)if("none"!==this.css("display",null,this[c])&&(a==h||!1===b))this[c].setAttribute("afmOldStyle",this.css("display",null,this[c])),this[c].style.display="none";else if("none"===this.css("display",null,this[c])&&(a==h||!0===b))this[c].style.display=this[c].getAttribute("afmOldStyle")?this[c].getAttribute("afmOldStyle"):"block",this[c].removeAttribute("afmOldStyle");return this},val:function(a){if(0===this.length)return a===h?void 0:this;if(a==h)return this[0].value;
        for(var b=0;b<this.length;b++)this[b].value=a;return this},attr:function(a,b){if(0===this.length)return b===h?void 0:this;if(b===h&&!e.isObject(a))return this[0].afmCacheId&&u[this[0].afmCacheId]&&u[this[0].afmCacheId][a]?u[this[0].afmCacheId][a]:this[0].getAttribute(a);for(var c=0;c<this.length;c++)if(e.isObject(a))for(var d in a)e(this[c]).attr(d,a[d]);else e.isArray(b)||e.isObject(b)||e.isFunction(b)?(this[c].afmCacheId||(this[c].afmCacheId=e.uuid()),u[this[c].afmCacheId]||(u[this[c].afmCacheId]=
    {}),u[this[c].afmCacheId][a]=b):(null===b?this[c].removeAttribute(a):this[c].setAttribute(a,b),this[c].afmCacheId&&u[this[c].afmCacheId][a]&&delete u[this[c].afmCacheId][a]);return this},removeAttr:function(a){for(var b=function(b){c[d].removeAttribute(b);c[d].afmCacheId&&u[c[d].afmCacheId]&&delete u[c[d].afmCacheId][a]},c=this,d=0;d<this.length;d++)a.split(/\s+/g).forEach(b);return this},prop:function(a,b){if(0===this.length)return b===h?void 0:this;if(b===h&&!e.isObject(a)){var c;return this[0].afmCacheId&&
        w[this[0].afmCacheId]&&w[this[0].afmCacheId][a]?w[this[0].afmCacheId][a]:!(c=this[0][a])&&a in this[0]?this[0][a]:c}for(c=0;c<this.length;c++)if(e.isObject(a))for(var d in a)e(this[c]).prop(d,a[d]);else e.isArray(b)||e.isObject(b)||e.isFunction(b)?(this[c].afmCacheId||(this[c].afmCacheId=e.uuid()),w[this[c].afmCacheId]||(w[this[c].afmCacheId]={}),w[this[c].afmCacheId][a]=b):null===b&&void 0!==b?e(this[c]).removeProp(a):(e(this[c]).removeProp(a),this[c][a]=b);return this},removeProp:function(a){for(var b=
        function(b){c[d][b]&&(c[d][b]=void 0);c[d].afmCacheId&&w[c[d].afmCacheId]&&delete w[c[d].afmCacheId][a]},c=this,d=0;d<this.length;d++)a.split(/\s+/g).forEach(b);return this},remove:function(a){a=e(this).filter(a);if(a==h)return this;for(var b=0;b<a.length;b++)e.cleanUpContent(a[b],!0,!0),a[b]&&a[b].parentNode&&a[b].parentNode.removeChild(a[b]);return this},addClass:function(a){var b=function(a){f.hasClass(a,f[c])||e.push(a)};if(a==h)return this;for(var c=0;c<this.length;c++){var d=this[c].className,
        e=[],f=this;a.split(/\s+/g).forEach(b);this[c].className+=(d?" ":"")+e.join(" ");this[c].className=this[c].className.trim()}return this},removeClass:function(a){if(a==h)return this;for(var b=function(a){d=d.replace(y(a)," ")},c=0;c<this.length;c++){if(a==h){this[c].className="";break}var d=this[c].className;"object"===typeof this[c].className&&(d=" ");a.split(/\s+/g).forEach(b);this[c].className=0<d.length?d.trim():""}return this},toggleClass:function(a,b){if(a==h)return this;for(var c=0;c<this.length;c++)"boolean"!==
        typeof b&&(b=this.hasClass(a,this[c])),e(this[c])[b?"removeClass":"addClass"](a);return this},replaceClass:function(a,b){if(a==h||b==h)return this;for(var c=function(a){e=e.replace(y(a)," ")},d=0;d<this.length;d++)if(a==h)this[d].className=b;else{var e=this[d].className;a.split(/\s+/g).concat(b.split(/\s+/g)).forEach(c);e=e.trim();this[d].className=0<e.length?(e+" "+b).trim():b}return this},hasClass:function(a,b){if(0===this.length)return!1;b||(b=this[0]);return y(a).test(b.className)},append:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   b,c){if(a&&a.length!=h&&0===a.length)return this;if(e.isArray(a)||e.isObject(a))a=e(a);var d;b&&e(this).add(b);for(b=0;b<this.length;b++)if(a.length&&"string"!==typeof a)a=e(a),x(a,this[b],c);else{var g=Y.test(a)?e(a):void 0;if(g==h||0===g.length)g=k.createTextNode(a);if(g instanceof r)for(var D=0,R=g.length;D<R;D++)d=g[D],d.nodeName!=h&&"script"===d.nodeName.toLowerCase()&&(!d.type||"text/javascript"===d.type.toLowerCase())?f.eval(d.innerHTML):x(e(d),this[b],c);else c!=h?this[b].insertBefore(g,this[b].firstChild):
        this[b].appendChild(g)}return this},appendTo:function(a,b){e(a).append(this);return this},prependTo:function(a){e(a).append(this,null,!0);return this},prepend:function(a){return this.append(a,null,1)},insertBefore:function(a,b){if(0===this.length)return this;a=e(a).get(0);if(!a)return this;for(var c=0;c<this.length;c++)b?a.parentNode.insertBefore(this[c],a.nextSibling):a.parentNode.insertBefore(this[c],a);return this},insertAfter:function(a){this.insertBefore(a,!0)},get:function(a){a=a==h?null:a;
        0>a&&(a+=this.length);if(null===a){a=[];for(var b=0;b<this.length;b++)a.push(this[b]);return a}return this[a]?this[a]:void 0},offset:function(){var a;if(0===this.length)return this;if(this[0]===f)return{left:0,top:0,right:0,bottom:0,width:f.innerWidth,height:f.innerHeight};a=this[0].getBoundingClientRect();return{left:a.left+f.pageXOffset,top:a.top+f.pageYOffset,right:a.right+f.pageXOffset,bottom:a.bottom+f.pageYOffset,width:a.right-a.left,height:a.bottom-a.top}},height:function(a){return 0===this.length?
        this:a!=h?this.css("height",a):this[0]===this[0].window?f.innerHeight:this[0].nodeType===this[0].DOCUMENT_NODE?this[0].documentElement.offsetHeight:(a=this.css("height").replace("px",""))?+a:this.offset().height},width:function(a){return 0===this.length?this:a!=h?this.css("width",a):this[0]===this[0].window?f.innerWidth:this[0].nodeType===this[0].DOCUMENT_NODE?this[0].documentElement.offsetWidth:(a=this.css("width").replace("px",""))?+a:this.offset().width},parent:function(a,b){if(0===this.length)return this;
        for(var c=[],d=0;d<this.length;d++)for(var g=this[d];g.parentNode&&g.parentNode!==k&&!(c.push(g.parentNode),g.parentNode&&(g=g.parentNode),!b););return this.setupOld(e(l(c)).filter(a))},parents:function(a){return this.parent(a,!0)},children:function(a){if(0===this.length)return this;for(var b=[],c=0;c<this.length;c++)b=b.concat(m(this[c].firstChild));return this.setupOld(e(b).filter(a))},siblings:function(a){if(0===this.length)return this;for(var b=[],c=0;c<this.length;c++)this[c].parentNode&&(b=
        b.concat(m(this[c].parentNode.firstChild,this[c])));return this.setupOld(e(b).filter(a))},contents:function(a){if(0===this.length)return this;for(var b=[],c=0;c<this.length;c++)this[c].parentNode&&n(this[c].childNodes,b);return this.setupOld(e(b).filter(a))},closest:function(a,b){if(0===this.length)return this;var c=this[0],d=e(a,b);if(0===d.length)return e();for(;c&&-1===d.indexOf(c);)c=c!==b&&c!==k&&c.parentNode;return e(c)},filter:function(a){if(0===this.length||a==h)return this;for(var b=[],c=
        0;c<this.length;c++){var d=this[c];d.parentNode&&0<=e(a,d.parentNode).indexOf(d)&&b.push(d)}return this.setupOld(e(l(b)))},not:function(a){if(0===this.length)return this;for(var b=[],c=0;c<this.length;c++){var d=this[c];d.parentNode&&-1===e(a,d.parentNode).indexOf(d)&&b.push(d)}return this.setupOld(e(l(b)))},data:function(a,b){return this.attr("data-"+a,b)},end:function(){return this.oldElement!=h?this.oldElement:e()},clone:function(a){a=!1===a?!1:!0;if(0===this.length)return this;for(var b=[],c=
        0;c<this.length;c++)b.push(this[c].cloneNode(a));return e(b)},size:function(){return this.length},serialize:function(){if(0===this.length)return"";for(var a=function(a){var c=a.getAttribute("type");if("fieldset"!==a.nodeName.toLowerCase()&&(!a.disabled&&"submit"!==c&&"reset"!==c&&"button"!==c&&("radio"!==c&&"checkbox"!==c||a.checked))&&a.getAttribute("name"))if("select-multiple"===a.type)for(c=0;c<a.options.length;c++)a.options[c].selected&&b.push(a.getAttribute("name")+"="+encodeURIComponent(a.options[c].value));
    else b.push(a.getAttribute("name")+"="+encodeURIComponent(a.value))},b=[],c=0;c<this.length;c++)this.slice.call(this[c].elements).forEach(a);return b.join("&")},eq:function(a){return e(this.get(a))},index:function(a){return a?this.indexOf(e(a)[0]):this.parent().children().indexOf(this[0])},is:function(a){return!!a&&0<this.filter(a).length},add:function(a){a=e(a);var b,c=a.length;for(b=0;b<c;b++)this[this.length++]=a[b];return this}};e.ajaxSettings={type:"GET",beforeSend:q,success:q,error:q,complete:q,
        context:void 0,timeout:0,crossDomain:null,processData:!0};e.jsonP=function(a){if(B)return a.type="get",a.dataType=null,e.get(a);var b="jsonp_callback"+ ++X,c="",d,g=k.createElement("script");f[b]=function(d){clearTimeout(c);e(g).remove();delete f[b];a.success.call(void 0,d)};if(-1!==a.url.indexOf("callback=?"))g.src=a.url.replace(/=\?/,"="+b);else{d=a.jsonp?a.jsonp:"callback";if(-1===a.url.indexOf("?"))a.url+="?"+d+"="+b;else if(-1!==a.url.indexOf("callback=")){d=a.url.indexOf("callback=")+9;var h=
        a.url.indexOf(d);-1===h&&(h=a.url.length);d=a.url.substr(d,h);a.url=a.url.replace("callback="+d,"callback="+b);d=d.replace("window.","");a.success=f[d]}else a.url+="&"+d+"="+b;g.src=a.url}a.error&&(g.onerror=function(){clearTimeout(c);a.error.call(void 0,"","error")});e("head").append(g);0<a.timeout&&(c=setTimeout(function(){a.error.call(void 0,"","timeout")},a.timeout));return{}};e.ajax=function(a){var b,c=e.Deferred();"string"===typeof a&&(a={url:a});var d=a||{},g;for(g in e.ajaxSettings)"undefined"===
        typeof d[g]&&(d[g]=e.ajaxSettings[g]);try{d.url||(d.url=f.location);d.headers||(d.headers={});if(!("async"in d)||!1!==d.async)d.async=!0;d.processData&&e.isObject(d.data)&&(d.data=e.param(d.data));"get"===d.type.toLowerCase()&&d.data&&(-1===d.url.indexOf("?")?d.url+="?"+d.data:d.url+="&"+d.data);d.data&&(!d.contentType&&!1!==d.contentType)&&(d.contentType="application/x-www-form-urlencoded; charset=UTF-8");if(d.dataType)switch(d.dataType){case "script":d.dataType="text/javascript, application/javascript";
        break;case "json":d.dataType="application/json";break;case "xml":d.dataType="application/xml, text/xml";break;case "html":d.dataType="text/html";break;case "text":d.dataType="text/plain";break;case "jsonp":return e.jsonP(a);default:d.dataType="text/html"}else d.dataType="text/html";if(/=\?/.test(d.url))return e.jsonP(d);null===d.crossDomain&&(d.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(d.url)&&RegExp.$2!==f.location.host);d.crossDomain||(d.headers=e.extend({"X-Requested-With":"XMLHttpRequest"},d.headers));
        var h,k=d.context,s=/^([\w-]+:)\/\//.test(d.url)?RegExp.$1:f.location.protocol;b=new f.XMLHttpRequest;e.extend(b,c.promise);b.onreadystatechange=function(){var a=d.dataType;if(4===b.readyState){clearTimeout(h);var g,l=!1,t=b.getResponseHeader("content-type")||"";if(200<=b.status&&300>b.status||0===b.status&&"file:"===s){if("application/json"===t||"application/json"===a&&!/^\s*$/.test(b.responseText))try{g=JSON.parse(b.responseText)}catch(q){l=q}else if(-1!==t.indexOf("javascript"))try{g=b.responseText,
            f.eval(g)}catch(m){console.log(m)}else"application/xml, text/xml"===a?g=b.responseXML:"text/html"===a?(g=b.responseText,e.parseJS(g)):g=b.responseText;0===b.status&&0===g.length&&(l=!0);l?(d.error.call(k,b,"parsererror",l),c.reject.call(k,b,"parsererror",l)):(c.resolve.call(k,g,"succes",b),d.success.call(k,g,"success",b))}else l=!0,c.reject.call(k,b,"error"),d.error.call(k,b,"error");d.complete.call(k,b,l?"error":"success")}};b.open(d.type,d.url,d.async);d.withCredentials&&(b.withCredentials=!0);
        d.contentType&&(d.headers["Content-Type"]=d.contentType);for(var l in d.headers)"string"===typeof d.headers[l]&&b.setRequestHeader(l,d.headers[l]);if(!1===d.beforeSend.call(k,b,d))return b.abort(),!1;0<d.timeout&&(h=setTimeout(function(){b.onreadystatechange=q;b.abort();d.error.call(k,b,"timeout")},d.timeout));b.send(d.data)}catch(t){c.resolve(k,b,"error",t),d.error.call(k,b,"error",t)}return b};e.get=function(a,b){return this.ajax({url:a,success:b})};e.post=function(a,b,c,d){"function"===typeof b&&
    (c=b,b={});d===h&&(d="html");return this.ajax({url:a,type:"POST",data:b,dataType:d,success:c})};e.getJSON=function(a,b,c){"function"===typeof b&&(c=b,b={});return this.ajax({url:a,data:b,success:c,dataType:"json"})};e.getScript=function(a,b){if(/^([\w-]+:)?\/\/([^\/]+)/.test(a)){var c=e.Deferred(),d=e.create("script",{async:!0,src:a}).get(0);d.onload=function(){b&&b();c.resolve.call(this,"success");e(this).remove()};d.onerror=function(){e(this).remove();c.reject.call(this,"success")};k.head.appendChild(d);
        return c.promise}return this.ajax({url:a,success:b,dataType:"script"})};e.param=function(a,b){var c=[];if(a instanceof r)a.each(function(){c.push((b?b+"["+this.id+"]":this.id)+"="+encodeURIComponent(this.value))});else for(var d in a)if(!e.isFunction(a[d])){var g=b?b+"["+d+"]":d,f=a[d];c.push(e.isObject(f)?e.param(f,g):g+"="+encodeURIComponent(f))}return c.join("&")};e.parseJSON=function(a){return JSON.parse(a)};e.parseXML=function(a){if(B)MSApp.execUnsafeLocalFunction(function(){return(new DOMParser).parseFromString(a,
        "text/xml")});else return(new DOMParser).parseFromString(a,"text/xml")};C(e,navigator.userAgent);e.__detectUA=C;e.uuid=function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()};e.getCssMatrix=function(a){e.is$(a)&&(a=a.get(0));var b=f.WebKitCSSMatrix||f.MSCSSMatrix;if(a===h)return b?new b:{a:0,b:0,c:0,d:0,e:0,f:0};a=f.getComputedStyle(a);a=a.webkitTransform||a.transform||a[e.feat.cssPrefix+"Transform"];return b?
        new b(a):a?(b=a.replace(/[^0-9\-.,]/g,"").split(","),{a:+b[0],b:+b[1],c:+b[2],d:+b[3],e:+b[4],f:+b[5]}):{a:0,b:0,c:0,d:0,e:0,f:0}};e.create=function(a,b){var c,d=new r;if(b||"<"!==a[0]){b.html&&(b.innerHTML=b.html,delete b.html);c=k.createElement(a);for(var e in b)c[e]=b[e];d[d.length++]=c}else c=k.createElement("div"),B?MSApp.execUnsafeLocalFunction(function(){c.innerHTML=a.trim()}):c.innerHTML=a,n(c.childNodes,d);return d};e.query=function(a,b){if(!a)return new r;b=b||k;return(new r).selector(a,
        b)};var v={},Q=1;e.event={add:F,remove:G};e.fn.bind=function(a,b){for(var c=0,d=this.length;c<d;c++)F(this[c],a,b);return this};e.fn.unbind=function(a,b){for(var c=0,d=this.length;c<d;c++)G(this[c],a,b);return this};e.fn.one=function(a,b){return this.each(function(c,d){F(this,a,b,null,function(a,b){return function(){G(d,b,a);return a.apply(d,arguments)}})})};var U=function(){return!0},V=function(){return!1},T={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",
        stopPropagation:"isPropagationStopped"};e.fn.delegate=function(a,b,c,d){e.isFunction(c)&&(d=c,c=null);for(var g=0,f=this.length;g<f;g++)W(this[g],b,d,a,c);return this};e.fn.undelegate=function(a,b,c){for(var d=0,e=this.length;d<e;d++)G(this[d],b,c,a);return this};e.fn.on=function(a,b,c,d){e.isFunction(c)&&(d=c,c=null);return b===h||e.isFunction(b)?this.bind(a,b):this.delegate(b,a,c,d)};e.fn.off=function(a,b,c){return b===h||e.isFunction(b)?this.unbind(a,b):this.undelegate(b,a,c)};e.fn.trigger=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   b,c){"string"===typeof a&&(a=e.Event(a,c));a.data=b;b=0;for(c=this.length;b<c;b++)this[b].dispatchEvent(a);return this};e.Event=function(a,b){var c=k.createEvent("Events"),d=!0;if(b)for(var e in b)"bubbles"===e?d=!!b[e]:c[e]=b[e];c.initEvent(a,d,!0,null,null,null,null,null,null,null,null,null,null,null,null);return c};e.bind=function(a,b,c){if(a){a.__events||(a.__events={});e.isArray(b)||(b=[b]);for(var d=0;d<b.length;d++)a.__events[b[d]]||(a.__events[b[d]]=[]),a.__events[b[d]].push(c)}};e.trigger=
        function(a,b,c){if(a){var d=!0;if(!a.__events)return d;e.isArray(b)||(b=[b]);e.isArray(c)||(c=[]);for(var g=0;g<b.length;g++)if(a.__events[b[g]])for(var f=a.__events[b[g]].slice(0),h=0;h<f.length;h++)e.isFunction(f[h])&&!1===f[h].apply(a,c)&&(d=!1);return d}};e.unbind=function(a,b,c){if(a.__events){e.isArray(b)||(b=[b]);for(var d=0;d<b.length;d++)if(a.__events[b[d]])for(var g=a.__events[b[d]],f=0;f<g.length;f++)if(c==h&&delete g[f],g[f]===c){g.splice(f,1);break}}};e.proxy=function(a,b,c){return function(){return c?
        a.apply(b,c):a.apply(b,arguments)}};var Z=function(a,b){for(var c=0;c<a.length;c++)K(a[c],b)};e.cleanUpContent=function(a,b,c){if(a){var d=a.childNodes;d&&0<d.length&&e.asap(Z,{},[L.apply(d,[0]),c]);b&&J(a,c)}};var I=[],N=[],O=[];e.asap=function(a,b,c){if(!e.isFunction(a))throw"$.asap - argument is not a valid function";I.push(a);N.push(b?b:{});O.push(c?c:[]);f.postMessage("afm-asap","*")};f.addEventListener("message",function(a){a.source===f&&"afm-asap"===a.data&&(a.stopPropagation(),0<I.length&&
        I.shift().apply(N.shift(),O.shift()))},!0);var P={};e.parseJS=function(a){if(a){if("string"===typeof a){var b=k.createElement("div");B?MSApp.execUnsafeLocalFunction(function(){b.innerHTML=a}):b.innerHTML=a;a=b}var c=a.getElementsByTagName("script");a=null;for(var d=0;d<c.length;d++)if(0<c[d].src.length&&!P[c[d].src]&&!B){var e=k.createElement("script");e.type=c[d].type;e.src=c[d].src;k.getElementsByTagName("head")[0].appendChild(e);P[c[d].src]=1;e=null}else f.eval(c[d].innerHTML)}};"click keydown keyup keypress submit load resize change select error".split(" ").forEach(function(a){e.fn[a]=
        function(b){return b?this.bind(a,b):this.trigger(a)}});["focus","blur"].forEach(function(a){e.fn[a]=function(b){if(0!==this.length){if(b)this.bind(a,b);else for(b=0;b<this.length;b++)try{this[b][a]()}catch(c){}return this}}});e.Deferred=function(){return{reject:function(){},resolve:function(){},promise:{then:function(){},fail:function(){}}}};return e}(window);window.jq=af;"$"in window||(window.$=af);"function"===typeof define&&define.amd?define("appframework",[],function(){return af}):"undefined"!==
    typeof module&&module.exports&&(module.exports.af=af,module.exports.$=af);window.numOnly||(window.numOnly=function(f){if(void 0===f||""===f)return 0;if(isNaN(parseFloat(f)))if(f.replace)f=f.replace(/[^0-9.-]/g,"");else return 0;return parseFloat(f)})};/*
 BSD - https://github.com/cburgmer/ayepromise/commit/299eb65b5ce227873b2f1724c8f5b2bfa723680a
 https://github.com/cburgmer/ayepromise
 */
(function(f,x){f.ayepromise=x()})(this,function(){var f={},x=function(){var f=!1;return function(m){return function(){f||(f=!0,m.apply(null,arguments))}}},y=function(l,m){var p=f.defer(),n=function(f,l){setTimeout(function(){var m;try{m=f(l)}catch(n){p.reject(n);return}m===p.promise?p.reject(new TypeError("Cannot resolve promise with itself")):p.resolve(m)},1)};return{promise:p.promise,callFulfilled:function(f){l&&l.call?n(l,f):p.resolve(f)},callRejected:function(f){m&&m.call?n(m,f):p.reject(f)}}};
    f.defer=function(){var f=0,m,p=[],n=function(s){f=1;m=s;p.forEach(function(f){f.callFulfilled(m)})},q=function(s){f=2;m=s;p.forEach(function(f){f.callRejected(m)})},C=function(s,t){var n=y(s,t);p.push(n);1===f?n.callFulfilled(m):2===f&&n.callRejected(m);return n.promise},z=function(f){var l;try{var m=f&&f.then;l=null!==f&&"object"===typeof f&&"function"===typeof m?m.bind(f):void 0}catch(p){q(p);return}if(l){f=l;l=x();try{f(l(z),l(q))}catch(y){l(q)(y)}}else n(f)},E=x();return{resolve:E(z),reject:E(q),
        promise:{then:C,fail:function(f){return C(null,f)}}}};return f});(function(f){f.Deferred=ayepromise.defer})(af);


/*! intel-appframework - v2.1.0 - 2014-03-26 */
(function(a){a.fn.actionsheet=function(e){var d;for(var c=0;c<this.length;c++){d=new b(this[c],e);}return this.length===1?d:this;};var b=(function(){var c=function(m,d){if(typeof m==="string"||m instanceof String){this.el=document.getElementById(m);}else{this.el=m;}if(!this.el){window.alert("Could not find element for actionsheet "+m);return;}if(this instanceof c){if(typeof(d)==="object"){for(var g in d){this[g]=d[g];}}}else{return new c(m,d);}var l=this;var f="<div id='af_actionsheet'><div style='width:100%'>";var k="</div></div>";var p;var o=function(){};if(typeof d==="string"){p=a(f+d+"<a href='javascript:;' class='cancel'>Cancel</a>"+k);}else{if(typeof d==="object"){p=a(f+k);var e=a(p.children().get(0));d.push({text:"Cancel",cssClasses:"cancel"});for(var h=0;h<d.length;h++){var n=a("<a href='javascript:;'>"+(d[h].text||"TEXT NOT ENTERED")+"</a>");n[0].onclick=(d[h].handler||o);if(d[h].cssClasses&&d[h].cssClasses.length>0){n.addClass(d[h].cssClasses);}e.append(n);}}}a(m).find("#af_actionsheet").remove();a(m).find("#af_action_mask").remove();a(m).append(p);p.vendorCss("Transition","all 0ms");p.cssTranslate("0,0");p.css("top",window.innerHeight+"px");this.el.style.overflow="hidden";p.on("click","a",function(){l.hideSheet();return false;});this.activeSheet=p;a(m).append("<div id='af_action_mask' style='position:absolute;top:0px;left:0px;right:0px;bottom:0px;z-index:9998;background:rgba(0,0,0,.4)'/>");setTimeout(function(){p.vendorCss("Transition","all 300ms");p.cssTranslate("0,"+(-(p.height()))+"px");},10);a("#af_action_mask").bind("touchstart touchmove touchend click",function(i){i.preventDefault();i.stopPropagation();});};c.prototype={activeSheet:null,hideSheet:function(){var e=this;this.activeSheet.off("click","a",function(){e.hideSheet();});a(this.el).find("#af_action_mask").unbind("click").remove();this.activeSheet.vendorCss("Transition","all 0ms");var d=this.activeSheet;var f=this.el;setTimeout(function(){d.vendorCss("Transition","all 300ms");d.cssTranslate("0,0px");setTimeout(function(){d.remove();d=null;f.style.overflow="none";},500);},10);}};return c;})();})(af);(function(f){var a=[];var b=function(j){if(!j.afCSS3AnimateId){j.afCSS3AnimateId=f.uuid();}return j.afCSS3AnimateId;};var d=function(j){if(typeof j==="string"||j instanceof String){return document.getElementById(j);}else{if(f.is$(j)){return j[0];}else{return j;}}};var i=function(m,j){var k,n,l=d(m);n=b(l);if(a[n]){a[n].animate(j);k=a[n];}else{k=g(l,j);a[n]=k;}return k;};f.fn.css3Animate=function(l){if(!l.complete&&l.callback){l.complete=l.callback;}var k=i(this[0],l);l.complete=null;l.sucess=null;l.failure=null;for(var j=1;j<this.length;j++){k.link(this[j],l);}return k;};f.css3AnimateQueue=function(){return new g.queue();};var h=f.feat.cssTransformStart;var e=f.feat.cssTransformEnd;var c=f.feat.cssPrefix.replace(/-/g,"")+"TransitionEnd";c=(f.os.fennec||f.feat.cssPrefix===""||f.os.ie)?"transitionend":c;c=c.replace(c.charAt(0),c.charAt(0).toLowerCase());var g=(function(){var j=function(k,l){if(!(this instanceof j)){return new j(k,l);}this.callbacksStack=[];this.activeEvent=null;this.countStack=0;this.isActive=false;this.el=k;this.linkFinishedProxy=f.proxy(this.linkFinished,this);if(!this.el){return;}this.animate(l);var m=this;af(this.el).bind("destroy",function(){var n=m.el.afCSS3AnimateId;m.callbacksStack=[];if(a[n]){delete a[n];}});};j.prototype={animate:function(u){if(this.isActive){this.cancel();}this.isActive=true;if(!u){window.alert("Please provide configuration options for animation of "+this.el.id);return;}var l=!!u.addClass;var n,m;var s=numOnly(u.time);if(l){if(u.removeClass){af(this.el).replaceClass(u.removeClass,u.addClass);}else{af(this.el).addClass(u.addClass);}}else{if(s===0){u.time=0;}if(!u.y){u.y=0;}if(!u.x){u.x=0;}if(u.previous){var p=new f.getCssMatrix(this.el);u.y+=numOnly(p.f);u.x+=numOnly(p.e);}if(!u.origin){u.origin="0% 0%";}if(!u.scale){u.scale="1";}if(!u.rotateY){u.rotateY="0";}if(!u.rotateX){u.rotateX="0";}if(!u.skewY){u.skewY="0";}if(!u.skewX){u.skewX="0";}if(!u.timingFunction){u.timingFunction="linear";}if(typeof(u.x)==="number"||(u.x.indexOf("%")===-1&&u.x.toLowerCase().indexOf("px")===-1&&u.x.toLowerCase().indexOf("deg")===-1)){u.x=parseInt(u.x,10)+"px";}if(typeof(u.y)==="number"||(u.y.indexOf("%")===-1&&u.y.toLowerCase().indexOf("px")===-1&&u.y.toLowerCase().indexOf("deg")===-1)){u.y=parseInt(u.y,10)+"px";}var t="translate"+h+(u.x)+","+(u.y)+e+" scale("+parseFloat(u.scale)+") rotate("+u.rotateX+")";if(!f.os.opera){t+=" rotateY("+u.rotateY+")";}t+=" skew("+u.skewX+","+u.skewY+")";this.el.style[f.feat.cssPrefix+"Transform"]=t;this.el.style[f.feat.cssPrefix+"BackfaceVisibility"]="hidden";var r=f.feat.cssPrefix+"Transform";if(u.opacity!==undefined){this.el.style.opacity=u.opacity;r+=", opacity";}if(u.width){this.el.style.width=u.width;r="all";}if(u.height){this.el.style.height=u.height;r="all";}this.el.style[f.feat.cssPrefix+"TransitionProperty"]="all";if((""+u.time).indexOf("s")===-1){n="ms";
    m=u.time+n;}else{if(u.time.indexOf("ms")!==-1){n="ms";m=u.time;}else{n="s";m=u.time+n;}}if(u.delay){this.el.style[f.feat.cssPrefix+"TransitionDelay"]=u.delay;}this.el.style[f.feat.cssPrefix+"TransitionDuration"]=m;this.el.style[f.feat.cssPrefix+"TransitionTimingFunction"]=u.timingFunction;this.el.style[f.feat.cssPrefix+"TransformOrigin"]=u.origin;}this.callbacksStack.push({complete:u.complete,success:u.success,failure:u.failure});this.countStack++;var q=this,o;var k=window.getComputedStyle(this.el);if(l){o=k[f.feat.cssPrefix+"TransitionDuration"];s=numOnly(o);u.time=s;if(o.indexOf("ms")!==-1){n="ms";}else{n="s";u.time*=1000;}}if(s===0||(n==="ms"&&s<5)||k.display==="none"){f.asap(f.proxy(this.finishAnimation,this,[false]));}else{this.activeEvent=function(v){clearTimeout(q.timeout);q.finishAnimation(v);q.el.removeEventListener(c,q.activeEvent,false);};q.timeout=setTimeout(this.activeEvent,numOnly(u.time)+50);this.el.addEventListener(c,this.activeEvent,false);}},addCallbackHook:function(k){if(k){this.callbacksStack.push(k);}this.countStack++;return this.linkFinishedProxy;},linkFinished:function(k){if(k){this.cancel();}else{this.finishAnimation();}},finishAnimation:function(k){if(k&&k.preventDefault){k.preventDefault();}if(!this.isActive){return;}this.countStack--;if(this.countStack===0){this.fireCallbacks(false);}},fireCallbacks:function(k){this.clearEvents();var o=this.callbacksStack;this.cleanup();for(var n=0;n<o.length;n++){var l=o[n].complete;var p=o[n].success;var m=o[n].failure;if(typeof(l)==="function"){l(k);}if(k&&typeof(m)==="function"){m();}else{if(typeof(p)==="function"){p();}}}},cancel:function(){if(!this.isActive){return;}this.fireCallbacks(true);},cleanup:function(){this.callbacksStack=[];this.isActive=false;this.countStack=0;},clearEvents:function(){if(this.activeEvent){this.el.removeEventListener(c,this.activeEvent,false);}this.activeEvent=null;},link:function(k,m){var l={complete:m.complete,success:m.success,failure:m.failure};m.complete=this.addCallbackHook(l);m.success=null;m.failure=null;i(k,m);m.complete=l.complete;m.success=l.success;m.failure=l.failure;return this;}};return j;})();g.queue=function(){return{elements:[],push:function(j){this.elements.push(j);},pop:function(){return this.elements.pop();},run:function(){var k=this;if(this.elements.length===0){return;}if(typeof(this.elements[0])==="function"){var j=this.shift();j();}if(this.elements.length===0){return;}var l=this.shift();if(this.elements.length>0){l.complete=function(m){if(!m){k.run();}};}g(document.getElementById(l.id),l);},shift:function(){return this.elements.shift();}};};})(af);if(!Date.now){Date.now=function(){return new Date().getTime();};}(function(){var d=["webkit","moz","ms"];for(var b=0;b<d.length&&!window.requestAnimationFrame;++b){var a=d[b];window.requestAnimationFrame=window[a+"RequestAnimationFrame"];window.cancelAnimationFrame=(window[a+"CancelAnimationFrame"]||window[a+"CancelRequestAnimationFrame"]);}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var c=0;window.requestAnimationFrame=function(g){var f=Date.now();var e=Math.max(c+16,f);return setTimeout(function(){g(c=e);},e-f);};window.cancelAnimationFrame=clearTimeout;}}());(function(f){var c=[];var d=function(h){if(!h.afAnimateId){h.afAnimateId=f.uuid();}return h.afAnimateId;};var b=function(h){if(typeof h==="string"||h instanceof String){return document.getElementById(h);}else{if(f.is$(h)){return h[0];}else{return h;}}};var e=function(k,h){var i,l,j=b(k);l=d(j);if(c[l]){if(h){c[l].animate(h);}i=c[l];}else{i=a(j,h);c[l]=i;}return i;};f.fn.animate=function(i){var h=e(this[0],i);return h;};var a=function(h,i){if(!(this instanceof a)){return new a(h,i);}this.el=h;if(!this.el){return;}if(i){this.animate(i);}var j=this;af(this.el).bind("destroy",function(){var k=j.el.afAnimateId;if(c[k]){delete c[k];}});};a.prototype={animationTimer:null,isAnimating:false,startX:0,startY:0,runTime:0,endX:0,endY:0,currX:0,currY:0,animationStartTime:0,pauseTime:0,completeCB:null,easingFn:"linear",animateOpts:{},updateCb:null,animate:function(h){var i=this;if(i.isAnimating){return;}i.isAnimating=true;window.cancelAnimationFrame(i.animationTimer);if(!h){h={x:0,y:0,duration:0};}this.easingFn=h.easing||"linear";this.completeCB=h.complete||null;this.updateCB=h.update||null;this.runTime=numOnly(h.duration);h.complete&&(delete h.complete);this.animateOpts=h;this.startTime=Date.now();this.startMatrix=f.getCssMatrix(this.el);if(this.runTime===0){this.doAnimate();}},start:function(){this.doAnimate();},doAnimate:function(){var h=Date.now(),l,k,j,i=this;if(this.runTime===0||(h>=this.startTime+this.runTime)){i.setPosition(this.animateOpts.x,this.animateOpts.y);i.isAnimating=false;if(this.updateCB){this.updateCB({x:this.animateOpts.x,y:this.animateOpts.y});}if(this.completeCB){this.completeCB();}return;}h=(h-this.startTime)/this.runTime;h=h>1?1:h;j=g[this.easingFn](h);l=(this.animateOpts.x-this.startMatrix.e)*j+this.startMatrix.e;
    k=(this.animateOpts.y-this.startMatrix.f)*j+this.startMatrix.f;this.setPosition(l,k);if(this.updateCB){this.updateCB({x:l,y:k});}if(this.isAnimating){this.animationTimer=window.requestAnimationFrame(function(){i.doAnimate();});}},setPosition:function(h,i){this.el.style[f.feat.cssPrefix+"Transform"]="matrix3d( 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, "+h+", "+i+", 0, 1 )";this.currX=h;this.currY=i;},stop:function(){this.isAnimating=false;window.cancelAnimationFrame(this.animationTimer);this.pauseTime=Date.now()-this.startTime;},resume:function(){this.isAnimating=true;this.startTime=Date.now()-this.pauseTime;this.doAnimate();}};var g={linear:function(h){return h;},easeOutSine:function(h){return Math.sin(h*Math.PI/2);}};})(af);(function(a){a.passwordBox=function(){return new b();};var b=function(){this.oldPasswords={};};b.prototype={showPasswordPlainText:false,getOldPasswords:function(e){var d=e&&document.getElementById(e)?document.getElementById(e):document;if(!d){window.alert("Could not find container element for passwordBox "+e);return;}var c=d.getElementsByTagName("input");for(var f=0;f<c.length;f++){if(c[f].type!=="password"){continue;}if(a.os.webkit){c[f].type="text";a(c[f]).vendorCss("TextSecurity","disc");}}},changePasswordVisiblity:function(c,e){c=parseInt(c,10);var d=document.getElementById(e);if(c===1){a(d).vendorCss("TextSecurity","none");}else{a(d).vendorCss("TextSecurity","disc");}if(!a.os.webkit){if(c===1){d.type="text";}else{d.type="password";}}d=null;}};})(af);(function(f){var h=325;var c=[];var d=function(i){if(!i.afScrollerId){i.afScrollerId=f.uuid();}return i.afScrollerId;};f.fn.scroller=function(l){var k,m;for(var j=0;j<this.length;j++){m=d(this[j]);if(!c[m]){if(!l){l={};}if(!f.feat.nativeTouchScroll){l.useJsScroll=true;}k=a(this[j],l);c[m]=k;}else{k=c[m];}}return this.length===1?k:this;};var e=false;function b(i){if(!c[i].el){delete c[i];return false;}return true;}function g(){if(f.os.android&&!f.os.chrome&&f.os.webkit){var i=false;f.bind(f.touchLayer,["cancel-enter-edit","exit-edit"],function(){if(i){i=false;for(var j in c){if(b(j)&&c[j].androidFormsMode){c[j].stopFormsMode();}}}});}e=true;}var a=(function(){var m,j;var i=function(o,q){var p;if(!e&&f.touchLayer&&f.isObject(f.touchLayer)){g();}else{if(!f.touchLayer||!f.isObject(f.touchLayer)){f.touchLayer={};}}if(typeof o==="string"||o instanceof String){p=document.getElementById(o);}else{p=o;}if(!p){window.alert("Could not find element for scroller "+o);return;}var n=f(p);if(q.hasParent){n=n.parent();}if(n.hasClass("x-scroll")){q.horizontalScroll=true;}if(n.hasClass("y-scroll")){q.verticalScroll=true;}if(f.os.desktop){return new k(p,q);}else{if(q.useJsScroll){return new m(p,q);}}return new j(p,q);};var k=function(o,p){this.el=o;this.afEl=f(this.el);for(var n in p){this[n]=p[n];}};k.prototype={refresh:false,refreshContent:"Pull to Refresh",refreshHangTimeout:2000,refreshHeight:60,refreshElement:null,refreshCancelCB:null,refreshRunning:false,scrollTop:0,scrollLeft:0,preventHideRefresh:true,verticalScroll:true,horizontalScroll:false,refreshTriggered:false,moved:false,eventsActive:false,rememberEventsActive:false,scrollingLocked:false,autoEnable:true,blockFormsFix:false,loggedPcentY:0,loggedPcentX:0,infinite:false,infiniteEndCheck:false,infiniteTriggered:false,scrollSkip:false,scrollTopInterval:null,scrollLeftInterval:null,bubbles:true,lockBounce:false,initScrollProgress:false,_scrollTo:function(r,q){q=parseInt(q,10);if(q===0||isNaN(q)){this.el.scrollTop=Math.abs(r.y);this.el.scrollLeft=Math.abs(r.x);return;}var w=10;var o=(this.el.scrollTop-r.y)/Math.ceil(q/w);var p=(this.el.scrollLeft-r.x)/Math.ceil(q/w);var v=this;var t=Math.ceil(this.el.scrollTop-r.y)/o;var u=Math.ceil(this.el.scrollLeft-r.x)/o;var n=0,s=0;v.scrollTopInterval=window.setInterval(function(){v.el.scrollTop-=o;s++;if(s>=t){v.el.scrollTop=r.y;clearInterval(v.scrollTopInterval);}},w);v.scrollLeftInterval=window.setInterval(function(){v.el.scrollLeft-=p;n++;if(n>=u){v.el.scrollLeft=r.x;clearInterval(v.scrollLeftInterval);}},w);},enable:function(){},disable:function(){},hideScrollbars:function(){},addPullToRefresh:function(){},_scrollToTop:function(n){this._scrollTo({x:0,y:0},n);},_scrollToBottom:function(n){this._scrollTo({x:0,y:this.el.scrollHeight-this.el.offsetHeight},n);},scrollToBottom:function(n){return this._scrollToBottom(n);},scrollToTop:function(n){return this._scrollToTop(n);},init:function(o,q){this.el=o;this.afEl=f(this.el);this.defaultProperties();for(var n in q){this[n]=q[n];}var p=this;var r=function(s){if(p.eventsActive&&!f.feat.nativeTouchScroll&&(!f.ui||(f.ui.activeDiv===p.container))){p.adjustScroll();}};this.afEl.bind("destroy",function(){p.disable(true);var s=p.el.afScrollerId;if(c[s]){delete c[s];}f.unbind(f.touchLayer,"orientationchange-reshape",r);});f.bind(f.touchLayer,"orientationchange-reshape",r);f(window).bind("resize",r);},needsFormsFix:function(n){return this.useJsScroll&&this.isEnabled()&&this.el.style.display!=="none"&&f(n).closest(this.afEl).size()>0;
},handleEvent:function(n){if(!this.scrollingLocked){switch(n.type){case"touchstart":clearInterval(this.scrollTopInterval);this.preventHideRefresh=!this.refreshRunning;this.moved=false;this.onTouchStart(n);if(!this.bubbles){n.stopPropagation();}break;case"touchmove":this.onTouchMove(n);if(!this.bubbles){n.stopPropagation();}break;case"touchend":this.onTouchEnd(n);if(!this.bubbles){n.stopPropagation();}break;case"scroll":this.onScroll(n);break;}}},coreAddPullToRefresh:function(o){if(o){this.refreshElement=o;}var n;if(this.refreshElement===null){var p=document.getElementById(this.container.id+"_pulldown");if(p!==null){n=f(p);}else{n=f("<div id='"+this.container.id+"_pulldown' class='afscroll_refresh' style='position:relative;height:60px;text-align:center;line-height:60px;font-weight:bold;'>"+this.refreshContent+"</div>");}}else{n=f(this.refreshElement);}var q=n.get(0);this.refreshContainer=f("<div style='overflow:hidden;height:0;width:100%;display:none;background:inherit;-webkit-backface-visibility: hidden !important;'></div>");f(this.el).prepend(this.refreshContainer.prepend(q));this.refreshContainer=this.refreshContainer[0];},fireRefreshRelease:function(n){if(!this.refresh||!n){return;}this.setRefreshContent("Refreshing...");var p=f.trigger(this,"refresh-release",[n])!==false;this.preventHideRefresh=false;this.refreshRunning=true;if(p){var o=this;if(this.refreshHangTimeout>0){this.refreshCancelCB=setTimeout(function(){o.hideRefresh();},this.refreshHangTimeout);}}},setRefreshContent:function(n){f(this.container).find(".afscroll_refresh").html(n);},lock:function(){if(this.scrollingLocked){return;}this.scrollingLocked=true;this.rememberEventsActive=this.eventsActive;if(this.eventsActive){this.disable();}},unlock:function(){if(!this.scrollingLocked){return;}this.scrollingLocked=false;if(this.rememberEventsActive){this.enable();}},scrollToItem:function(s,q){if(!f.is$(s)){s=f(s);}var n,r,p,o;if(q==="bottom"){r=s.offset();n=r.top-this.afEl.offset().bottom+r.height;n+=4;}else{o=s.offset().top;n=o-document.body.scrollTop;p=this.afEl.offset().top;if(document.body.scrollTop<p){n-=p;}n-=4;}this.scrollBy({y:n,x:0},0);},setPaddings:function(q,n){var p=f(this.el);var o=numOnly(p.css("paddingTop"));p.css("paddingTop",q+"px").css("paddingBottom",n+"px");this.scrollBy({y:q-o,x:0});},divide:function(o,n){return n!==0?o/n:0;},isEnabled:function(){return this.eventsActive;},addInfinite:function(){this.infinite=true;},clearInfinite:function(){this.infiniteTriggered=false;this.scrollSkip=true;},scrollTo:function(o,n){return this._scrollTo(o,n);},updateP2rHackPosition:function(){}};m=function(o,p){this.init(o,p);if(p.hasParent){this.container=this.el.parentNode;}else{var n=f.create("div",{});n.append(f(this.el).contents());f(this.el).append(n);this.container=this.el;this.el=n.get(0);}this.container.afScrollerId=o.afScrollerId;this.afEl=f(this.container);if(this.container.style.overflow!=="hidden"){this.container.style.overflow="hidden";}this.addPullToRefresh(null,true);if(p.autoEnable){this.autoEnable=p.autoEnable;}if(this.autoEnable){this.enable(true);}var q;if(this.verticalScroll&&this.verticalScroll===true&&this.scrollBars===true){q=l(5,20);q.style.top="0px";if(this.vScrollCSS){q.className=this.vScrollCSS;}q.style.display="none";this.container.appendChild(q);this.vscrollBar=q;q=null;}if(this.horizontalScroll&&this.horizontalScroll===true&&this.scrollBars===true){q=l(20,5);q.style.bottom="0px";if(this.hScrollCSS){q.className=this.hScrollCSS;}q.style.display="none";this.container.appendChild(q);this.hscrollBar=q;q=null;}if(this.horizontalScroll){this.el.style.cssFloat="left";}this.el.hasScroller=true;};j=function(p,q){if(q.nativeParent){p=p.parentNode;}this.init(p,q);var o=f(p);if(q.replaceParent===true){var n=o.parent();o.css("height",n.height()).css("width",n.width());o.insertBefore(o.parent());n.remove();}this.container=this.el;o.css("-webkit-overflow-scrolling","touch");if(q.autoEnable){this.autoEnable=q.autoEnable;}if(this.autoEnable){this.enable();}};j.prototype=new k();m.prototype=new k();j.prototype.defaultProperties=function(){this.refreshContainer=null;this.dY=this.cY=0;this.dX=this.cX=0;this.cancelPropagation=false;this.loggedPcentY=0;this.loggedPcentX=0;this.xReset=0;this.yReset=0;var n=this;this.adjustScrollOverflowProxy=function(){n.afEl.css("overflow","auto");n.afEl.parent().css("overflow","hidden");};};j.prototype.enable=function(n){if(this.eventsActive){return;}this.eventsActive=true;this.el.style.overflow="auto";if(!n){this.adjustScroll();}this.el.addEventListener("touchstart",this,false);this.el.addEventListener("scroll",this,false);this.updateP2rHackPosition();};j.prototype.disable=function(n){if(!this.eventsActive){return;}this.logPos(this.el.scrollLeft,this.el.scrollTop);if(!n&&!f.ui){this.el.style.overflow="hidden";}this.el.removeEventListener("touchstart",this,false);this.el.removeEventListener("touchmove",this,false);this.el.removeEventListener("touchend",this,false);this.el.removeEventListener("scroll",this,false);
    this.eventsActive=false;};j.prototype.addPullToRefresh=function(n,o){if(!o){this.refresh=true;}if(this.refresh&&this.refresh===true){this.coreAddPullToRefresh(n);this.refreshContainer.style.position="absolute";this.refreshContainer.style.top="-60px";this.refreshContainer.style.height="60px";this.refreshContainer.style.display="block";this.updateP2rHackPosition();}};j.prototype.updateP2rHackPosition=function(){if(!this.refresh){return f(this.el).find(".p2rhack").remove();}var n=f(this.el).find(".p2rhack");if(n.length===0){f(this.el).append("<div class='p2rhack' style='position:absolute;width:1px;height:1px;opacity:0;background:transparent;z-index:-1;-webkit-transform:translate3d(-1px,0,0);'></div>");n=f(this.el).find(".p2rhack");}n.css("top",this.el.scrollHeight+this.refreshHeight+1+"px");};j.prototype.onTouchStart=function(n){this.lastScrollInfo={top:0};this.xReset=this.yReset=0;if(this.verticalScroll){if(this.el.scrollTop===0&&this.refresh){this.el.scrollTop=1;this.yReset=-1;}if(this.el.scrollTop===(this.el.scrollHeight-this.el.clientHeight)&&this.infinite){this.el.scrollTop-=1;this.yReset=1;}}if(this.horizontalScroll){if(this.el.scrollLeft===0){this.el.scrollLeft=1;this.xReset=-1;}if(this.el.scrollLeft===(this.el.scrollWidth-this.el.clientWidth)){this.el.scrollLeft-=1;this.xReset=1;}}if(this.refreshCancelCB){clearTimeout(this.refreshCancelCB);}if(this.refresh){this.el.addEventListener("touchend",this,false);}this.el.addEventListener("touchmove",this,false);this.dY=n.touches[0].pageY;this.dX=n.touches[0].pageX;this.startTop=this.el.scrollTop;this.startLeft=this.el.scrollLeft;if(this.refresh||this.infinite){if(this.refresh&&this.dY<0){this.showRefresh();}}};j.prototype.onTouchMove=function(s){var n=s.touches[0].pageY-this.dY;var o=s.touches[0].pageX-this.dX;var r=(this.el.scrollHeight-this.el.scrollTop)===this.el.clientHeight&&n<0;var q=(this.el.scrollWidth-this.el.scrollLeft)===this.el.clientWidth&&o<0;var p=s.target.tagName.toLowerCase()!=="input";if(this.verticalScroll){if(this.startTop===0&&this.el.scrollTop===0&&n>0){p&&s.preventDefault();}}if(this.horizontalScroll&&this.startTop===0&&this.el.scrollLeft===0&&o>0){p&&s.preventDefault();}if(this.verticalScroll&&r){p&&s.preventDefault();}if(this.horizontalScroll&&q){p&&s.preventDefault();}if(!this.moved){f.trigger(this,"scrollstart",[this.el,{x:o,y:n}]);f.trigger(f.touchLayer,"scrollstart",[this.el,{x:o,y:n}]);if(!this.refresh){this.el.addEventListener("touchend",this,false);}this.moved=true;}if(this.horizontalScroll){if(Math.abs(n)>Math.abs(o)){s.preventDefault();}}if(this.refresh&&(this.el.scrollTop<-this.refreshHeight)){this.showRefresh();}else{if(this.refresh&&this.refreshTriggered&&this.refreshRunning&&(this.el.scrollTop>this.refreshHeight)){this.refreshTriggered=false;this.refreshRunning=false;if(this.refreshCancelCB){clearTimeout(this.refreshCancelCB);}this.hideRefresh(false);this.setRefreshContent("Pull to Refresh");f.trigger(this,"refresh-cancel");}else{if(this.refresh&&this.refreshTriggered&&!this.refreshRunning&&(this.el.scrollTop>-this.refreshHeight)){this.refreshTriggered=false;this.refreshRunning=false;if(this.refreshCancelCB){clearTimeout(this.refreshCancelCB);}this.hideRefresh(false);this.setRefreshContent("Pull to Refresh");f.trigger(this,"refresh-cancel");}}}this.cY=n;this.cX=o;this.lastScrollInfo.top=this.cY;if(this.initScrollProgress){f.trigger(this,"scroll",[{x:-this.el.scrollLeft,y:-this.el.scrollTop}]);f.trigger(f.touchLayer,"scroll",[{x:-this.el.scrollLeft,y:-this.el.scrollTop}]);}};j.prototype.showRefresh=function(){if(!this.refreshTriggered){this.refreshTriggered=true;this.setRefreshContent("Release to Refresh");f.trigger(this,"refresh-trigger");}};j.prototype.onTouchEnd=function(u){var o=this.el.scrollTop<=-(this.refreshHeight);var s=this;this.fireRefreshRelease(o,true);if(!this.moved){this.el.scrollTop+=this.yReset;this.el.scrollLeft+=this.xReset;}if(o&&this.refresh){var r=f.create("<div style='height:"+this.el.clientHeight+this.refreshHeight+"px;width:1px;-webkit-transform:translated3d(-1px,0,0)'></div>");f(this.el).append(r);s.refreshContainer.style.top="0px";s.refreshContainer.style.position="";setTimeout(function(){r.remove();});}this.el.removeEventListener("touchmove",this,false);this.el.removeEventListener("touchend",this,false);this.infiniteEndCheck=true;if(this.infinite&&!this.infiniteTriggered&&((this.el.scrollTop)>=(this.el.scrollHeight-this.el.clientHeight))){this.infiniteTriggered=true;f.trigger(this,"infinite-scroll");this.infiniteEndCheck=true;}this.touchEndFired=true;var n=200;var q=this;var t={top:this.el.scrollTop,left:this.el.scrollLeft};var p=0;clearInterval(q.nativePolling);q.nativePolling=setInterval(function(){p++;if(p===parseInt(n/8,10)){if(q.initScrollProgress){f.trigger(q,"scroll",[{x:-q.el.scrollLeft+q.cX,y:-q.el.scrollTop+q.cY}]);f.trigger(f.touchLayer,"scroll",[{x:-q.el.scrollLeft+q.cX,y:-q.el.scrollTop+q.cY}]);}}if(p>=n){clearInterval(q.nativePolling);if(q.initScrollProgress){f.trigger(q,"scroll",[{x:-q.el.scrollLeft,y:-q.el.scrollTop}]);
    f.trigger(f.touchLayer,"scroll",[{x:-q.el.scrollLeft,y:-q.el.scrollTop}]);}return;}if(q.el.scrollTop!==t.top||q.el.scrollLeft!==t.left){clearInterval(q.nativePolling);f.trigger(f.touchLayer,"scrollend",[q.el]);f.trigger(q,"scrollend",[q.el]);if(q.initScrollProgress){f.trigger(q,"scroll",[{x:-q.el.scrollLeft,y:-q.el.scrollTop}]);f.trigger(f.touchLayer,"scroll",[{x:-q.el.scrollLeft,y:-q.el.scrollTop}]);}}},20);};j.prototype.hideRefresh=function(n){if(this.preventHideRefresh){return;}var o=this;var p=function(q){o.refreshContainer.style.top="-60px";o.refreshContainer.style.position="absolute";o.dY=o.cY=0;if(!q){o.el.style[f.feat.cssPrefix+"Transform"]="none";o.el.style[f.feat.cssPrefix+"TransitionProperty"]="none";o.el.scrollTop=0;o.logPos(o.el.scrollLeft,0);o.refreshRunning=false;o.setRefreshContent("Pull to Refresh");f.trigger(o,"refresh-finish");}};if(n===false||!o.afEl.css3Animate){p();}else{o.afEl.css3Animate({y:(o.el.scrollTop-o.refreshHeight)+"px",x:"0%",time:h+"ms",complete:p});}this.refreshTriggered=false;};j.prototype.hideScrollbars=function(){};j.prototype.scrollTo=function(o,n){this.logPos(o.x,o.y);o.x*=-1;o.y*=-1;return this._scrollTo(o,n);};j.prototype.scrollBy=function(o,n){o.x+=this.el.scrollLeft;o.y+=this.el.scrollTop;this.logPos(this.el.scrollLeft,this.el.scrollTop);return this._scrollTo(o,n);};j.prototype.scrollToBottom=function(n){this._scrollToBottom(n);this.logPos(this.el.scrollLeft,this.el.scrollTop);};j.prototype.onScroll=function(o){if(this.infinite&&this.touchEndFired){this.touchEndFired=false;return;}if(this.scrollSkip){this.scrollSkip=false;return;}if(this.infinite){if(!this.infiniteTriggered&&(this.el.scrollTop>=(this.el.scrollHeight-this.el.clientHeight))){this.infiniteTriggered=true;f.trigger(this,"infinite-scroll");this.infiniteEndCheck=true;}}var n=this;if(this.infinite&&this.infiniteEndCheck&&this.infiniteTriggered){this.infiniteEndCheck=false;f.trigger(n,"infinite-scroll-end");}};j.prototype.logPos=function(n,o){this.loggedPcentX=this.divide(n,(this.el.scrollWidth));this.loggedPcentY=this.divide(o,(this.el.scrollHeight));this.scrollLeft=n;this.scrollTop=o;if(isNaN(this.loggedPcentX)){this.loggedPcentX=0;}if(isNaN(this.loggedPcentY)){this.loggedPcentY=0;}};j.prototype.adjustScroll=function(){this.adjustScrollOverflowProxy();this.el.scrollLeft=this.loggedPcentX*(this.el.scrollWidth);this.el.scrollTop=this.loggedPcentY*(this.el.scrollHeight);this.logPos(this.el.scrollLeft,this.el.scrollTop);};m.prototype.defaultProperties=function(){this.boolScrollLock=false;this.currentScrollingObject=null;this.elementInfo=null;this.verticalScroll=true;this.horizontalScroll=false;this.scrollBars=true;this.vscrollBar=null;this.hscrollBar=null;this.hScrollCSS="scrollBar";this.vScrollCSS="scrollBar";this.firstEventInfo=null;this.moved=false;this.preventPullToRefresh=true;this.isScrolling=false;this.androidFormsMode=false;this.refreshSafeKeep=false;this.lastScrollbar="";this.finishScrollingObject=null;this.container=null;this.scrollingFinishCB=null;this.loggedPcentY=0;this.loggedPcentX=0;this.androidPerfHack=0;};function l(o,n){var p=document.createElement("div");p.style.position="absolute";p.style.width=o+"px";p.style.height=n+"px";p.style[f.feat.cssPrefix+"BorderRadius"]="2px";p.style.borderRadius="2px";p.style.display="none";p.className="scrollBar";p.style.background="black";return p;}m.prototype.enable=function(n){if(this.eventsActive){return;}this.eventsActive=true;if(!n){this.adjustScroll();}else{this.scrollerMoveCSS({x:0,y:0},0);}this.container.addEventListener("touchstart",this,false);this.container.addEventListener("touchmove",this,false);this.container.addEventListener("touchend",this,false);};m.prototype.adjustScroll=function(){var n=this.getViewportSize();this.scrollerMoveCSS({x:Math.round(this.loggedPcentX*(this.el.clientWidth-n.w)),y:Math.round(this.loggedPcentY*(this.el.clientHeight-n.h))},0);};m.prototype.disable=function(){if(!this.eventsActive){return;}var n=this.getCSSMatrix(this.el);this.logPos((numOnly(n.e)-numOnly(this.container.scrollLeft)),(numOnly(n.f)-numOnly(this.container.scrollTop)));this.container.removeEventListener("touchstart",this,false);this.container.removeEventListener("touchmove",this,false);this.container.removeEventListener("touchend",this,false);this.eventsActive=false;};m.prototype.addPullToRefresh=function(n,o){if(!o){this.refresh=true;}if(this.refresh&&this.refresh===true){this.coreAddPullToRefresh(n);this.el.style.overflow="visible";}};m.prototype.hideScrollbars=function(){if(this.hscrollBar){this.hscrollBar.style.display="none";this.hscrollBar.style[f.feat.cssPrefix+"TransitionDuration"]="0ms";}if(this.vscrollBar){this.vscrollBar.style.display="none";this.vscrollBar.style[f.feat.cssPrefix+"TransitionDuration"]="0ms";}};m.prototype.getViewportSize=function(){var n=window.getComputedStyle(this.container);if(isNaN(numOnly(n.paddingTop))){window.alert((typeof n.paddingTop)+"::"+n.paddingTop+":");}return{h:(this.container.clientHeight>window.innerHeight?window.innerHeight:this.container.clientHeight-numOnly(n.paddingTop)-numOnly(n.paddingBottom)),w:(this.container.clientWidth>window.innerWidth?window.innerWidth:this.container.clientWidth-numOnly(n.paddingLeft)-numOnly(n.paddingRight))};
};m.prototype.onTouchStart=function(p){this.moved=false;this.currentScrollingObject=null;f(this.el).animate().stop();if(!this.container){return;}if(this.refreshCancelCB){clearTimeout(this.refreshCancelCB);this.refreshCancelCB=null;}if(this.scrollingFinishCB){clearTimeout(this.scrollingFinishCB);this.scrollingFinishCB=null;}if(p.touches.length!==1||this.boolScrollLock){return;}if(p.touches[0].target&&p.touches[0].target.type!==undefined){var q=p.touches[0].target.tagName.toLowerCase();if(q==="select"){return;}}var r={top:0,left:0,speedY:0,speedX:0,absSpeedY:0,absSpeedX:0,deltaY:0,deltaX:0,absDeltaY:0,absDeltaX:0,y:0,x:0,duration:0};this.elementInfo={};var n=this.getViewportSize();this.elementInfo.bottomMargin=n.h;this.elementInfo.maxTop=(this.el.clientHeight-this.elementInfo.bottomMargin);if(this.elementInfo.maxTop<0){this.elementInfo.maxTop=0;}this.elementInfo.divHeight=this.el.clientHeight;this.elementInfo.rightMargin=n.w;this.elementInfo.maxLeft=(this.el.clientWidth-this.elementInfo.rightMargin);if(this.elementInfo.maxLeft<0){this.elementInfo.maxLeft=0;}this.elementInfo.divWidth=this.el.clientWidth;this.elementInfo.hasVertScroll=this.verticalScroll||this.elementInfo.maxTop>0;this.elementInfo.hasHorScroll=this.elementInfo.maxLeft>0;this.elementInfo.requiresVScrollBar=this.vscrollBar&&this.elementInfo.hasVertScroll;this.elementInfo.requiresHScrollBar=this.hscrollBar&&this.elementInfo.hasHorScroll;this.saveEventInfo(p);this.saveFirstEventInfo(p);var o=this.getCSSMatrix(this.el);r.top=numOnly(o.f)-numOnly(this.container.scrollTop);r.left=numOnly(o.e)-numOnly(this.container.scrollLeft);this.container.scrollTop=this.container.scrollLeft=0;this.currentScrollingObject=this.el;if(this.refresh&&r.top===0){this.refreshContainer.style.display="block";this.refreshHeight=this.refreshContainer.firstChild.clientHeight;this.refreshContainer.firstChild.style.top=(-this.refreshHeight)+"px";this.refreshContainer.style.overflow="visible";this.preventPullToRefresh=false;}else{if(r.top<0){this.preventPullToRefresh=true;if(this.refresh){this.refreshContainer.style.overflow="hidden";}}}r.x=r.left;r.y=r.top;if(this.setVScrollBar(r,0,0)){if(this.container.clientWidth>window.innerWidth){this.vscrollBar.style.right="0px";}else{this.vscrollBar.style.right="0px";}this.vscrollBar.style[f.feat.cssPrefix+"Transition"]="";f(this.vscrollBar).animate().stop();}if(this.setHScrollBar(r,0,0)){if(this.container.clientHeight>window.innerHeight){this.hscrollBar.style.top=(window.innerHeight-numOnly(this.hscrollBar.style.height))+"px";}else{this.hscrollBar.style.bottom=numOnly(this.hscrollBar.style.height);}this.hscrollBar.style[f.feat.cssPrefix+"Transition"]="";f(this.hscrollBar).animate().stop();}this.lastScrollInfo=r;this.hasMoved=false;if(this.elementInfo.maxTop===0&&this.elementInfo.maxLeft===0&&this.lockBounce){this.scrollToTop(0);}else{this.scrollerMoveCSS(this.lastScrollInfo,0);}this.scrollerMoveCSS(this.lastScrollInfo,0);};m.prototype.getCSSMatrix=function(n){if(this.androidFormsMode){var q=parseInt(n.style.marginTop,10);var p=parseInt(n.style.marginLeft,10);if(isNaN(q)){q=0;}if(isNaN(p)){p=0;}return{f:q,e:p};}else{var o=f.getCssMatrix(n);return o;}};m.prototype.saveEventInfo=function(n){this.lastEventInfo={pageX:n.touches[0].pageX,pageY:n.touches[0].pageY,time:n.timeStamp};};m.prototype.saveFirstEventInfo=function(n){this.firstEventInfo={pageX:n.touches[0].pageX,pageY:n.touches[0].pageY,time:n.timeStamp};};m.prototype.setVScrollBar=function(q,p,o){if(!this.elementInfo.requiresVScrollBar){return false;}var n=(parseFloat(this.elementInfo.bottomMargin/this.elementInfo.divHeight)*this.elementInfo.bottomMargin)+"px";if(numOnly(n)>this.elementInfo.bottomMargin){n=this.elementInfo.bottomMargin+"px";}if(n!==this.vscrollBar.style.height){this.vscrollBar.style.height=n;}var r=(this.elementInfo.bottomMargin-numOnly(this.vscrollBar.style.height))-(((this.elementInfo.maxTop+q.y)/this.elementInfo.maxTop)*(this.elementInfo.bottomMargin-numOnly(this.vscrollBar.style.height)));if(r>this.elementInfo.bottomMargin){r=this.elementInfo.bottomMargin;}if(r<0){r=0;}this.scrollbarMoveCSS(this.vscrollBar,{x:0,y:r},p,o);return true;};m.prototype.setHScrollBar=function(q,p,o){if(!this.elementInfo.requiresHScrollBar){return false;}var n=(parseFloat(this.elementInfo.rightMargin/this.elementInfo.divWidth)*this.elementInfo.rightMargin)+"px";if(n!==this.hscrollBar.style.width){this.hscrollBar.style.width=n;}var r=(this.elementInfo.rightMargin-numOnly(this.hscrollBar.style.width))-(((this.elementInfo.maxLeft+q.x)/this.elementInfo.maxLeft)*(this.elementInfo.rightMargin-numOnly(this.hscrollBar.style.width)));if(r>this.elementInfo.rightMargin){r=this.elementInfo.rightMargin;}if(r<0){r=0;}this.scrollbarMoveCSS(this.hscrollBar,{x:r,y:0},p,o);return true;};m.prototype.onTouchMove=function(q){if(this.currentScrollingObject===null){return;}var t=this.calculateMovement(q);this.calculateTarget(t);this.lastScrollInfo=t;if(!this.moved){f.trigger(this,"scrollstart",[this.el,{x:this.lastScrollInfo.top,y:this.lastScrollInfo.left}]);
    f.trigger(f.touchLayer,"scrollstart",[this.el,{x:this.lastScrollInfo.top,y:this.lastScrollInfo.left}]);if(this.elementInfo.requiresVScrollBar){this.vscrollBar.style.display="block";}if(this.elementInfo.requiresHScrollBar){this.hscrollBar.style.display="block";}}this.moved=true;if(this.refresh&&t.top===0){this.refreshContainer.style.display="block";this.refreshHeight=this.refreshContainer.firstChild.clientHeight;this.refreshContainer.firstChild.style.top=(-this.refreshHeight)+"px";this.refreshContainer.style.overflow="visible";this.preventPullToRefresh=false;}else{if(t.top<0){this.preventPullToRefresh=true;if(this.refresh){this.refreshContainer.style.overflow="hidden";}}}this.saveEventInfo(q);if(this.isScrolling===false){this.isScrolling=true;if(this.onScrollStart){this.onScrollStart();}}var w=this.getCSSMatrix(this.el);this.lastScrollInfo.top=numOnly(w.f);this.lastScrollInfo.left=numOnly(w.e);this.recalculateDeltaY(this.lastScrollInfo);this.recalculateDeltaX(this.lastScrollInfo);this.checkYboundary(this.lastScrollInfo);if(this.elementInfo.hasHorScroll){this.checkXboundary(this.lastScrollInfo);}var p=this.lastScrollInfo.y>0&&this.lastScrollInfo.deltaY>0;var n=this.lastScrollInfo.y<-this.elementInfo.maxTop&&this.lastScrollInfo.deltaY<0;var v,o,u;if(p||n){v=p?this.lastScrollInfo.y:-this.lastScrollInfo.y-this.elementInfo.maxTop;o=(this.container.clientHeight-v)/this.container.clientHeight;if(o<0.5){o=0.5;}u=0;if((p&&this.lastScrollInfo.top>0)||(n&&this.lastScrollInfo.top<-this.elementInfo.maxTop)){u=this.lastScrollInfo.top;}else{if(n){u=-this.elementInfo.maxTop;}}var x=this.lastScrollInfo.deltaY*o;var r=Math.abs(this.lastScrollInfo.deltaY*o);if(r<1){x=p?1:-1;}this.lastScrollInfo.y=u+x;}if(this.elementInfo.hasHorScroll){p=this.lastScrollInfo.x>0&&this.lastScrollInfo.deltaX>0;n=this.lastScrollInfo.x<-this.elementInfo.maxLeft&&this.lastScrollInfo.deltaX<0;if(p||n){v=p?this.lastScrollInfo.x:-this.lastScrollInfo.x-this.elementInfo.maxLeft;o=(this.container.clientWidth-v)/this.container.clientWidth;if(o<0.5){o=0.5;}u=0;if((p&&this.lastScrollInfo.left>0)||(n&&this.lastScrollInfo.left<-this.elementInfo.maxLeft)){u=this.lastScrollInfo.left;}else{if(n){u=-this.elementInfo.maxLeft;}}var y=this.lastScrollInfo.deltaX*o;var s=Math.abs(this.lastScrollInfo.deltaX*o);if(s<1){y=p?1:-1;}this.lastScrollInfo.x=u+y;}}if(this.lockBounce||(!this.refresh)){if(this.lastScrollInfo.x>0){this.lastScrollInfo.x=0;}else{if(this.lastScrollInfo.x*-1>this.elementInfo.maxLeft){this.lastScrollInfo.x=this.elementInfo.maxLeft*-1;}}if(this.lastScrollInfo.y>0){this.lastScrollInfo.y=0;}else{if(this.lastScrollInfo.y*-1>this.elementInfo.maxTop){this.lastScrollInfo.y=this.elementInfo.maxTop*-1;}}}this.scrollerMoveCSS(this.lastScrollInfo,0);this.setVScrollBar(this.lastScrollInfo,0,0);this.setHScrollBar(this.lastScrollInfo,0,0);if(this.refresh&&!this.preventPullToRefresh){if(!this.refreshTriggered&&this.lastScrollInfo.top>this.refreshHeight){this.refreshTriggered=true;this.setRefreshContent("Release to Refresh");f.trigger(this,"refresh-trigger");}else{if(this.refreshTriggered&&this.lastScrollInfo.top<this.refreshHeight){this.refreshTriggered=false;this.setRefreshContent("Pull to Refresh");f.trigger(this,"refresh-cancel");}}}if(this.infinite&&!this.infiniteTriggered){if((Math.abs(this.lastScrollInfo.top)>(this.el.clientHeight-this.container.clientHeight))){this.infiniteTriggered=true;f.trigger(this,"infinite-scroll");}}};m.prototype.calculateMovement=function(r,q){var t={top:0,left:0,speedY:0,speedX:0,absSpeedY:0,absSpeedX:0,deltaY:0,deltaX:0,absDeltaY:0,absDeltaX:0,y:0,x:0,duration:0};var n=q?this.firstEventInfo:this.lastEventInfo;var p=q?r.pageX:r.touches[0].pageX;var o=q?r.pageY:r.touches[0].pageY;var s=q?r.time:r.timeStamp;t.deltaY=this.elementInfo.hasVertScroll?o-n.pageY:0;t.deltaX=this.elementInfo.hasHorScroll?p-n.pageX:0;t.time=s;t.duration=s-n.time;return t;};m.prototype.calculateTarget=function(n){n.y=this.lastScrollInfo.y+n.deltaY;n.x=this.lastScrollInfo.x+n.deltaX;if(Math.abs(n.deltaY)>0){n.y+=(n.deltaY>0?1:-1)*(this.elementInfo.divHeight*this.androidPerfHack);}if(Math.abs(n.deltaX)>0){n.x+=(n.deltaX>0?1:-1)*(this.elementInfo.divWidth*this.androidPerfHack);}};m.prototype.checkYboundary=function(o){var p=this.container.clientHeight/2;var n=this.elementInfo.maxTop+p;if(o.y>p){o.y=p;}else{if(-o.y>n){o.y=-n;}else{return;}}this.recalculateDeltaY(o);};m.prototype.checkXboundary=function(p){var n=this.container.clientWidth/2;var o=this.elementInfo.maxLeft+n;if(p.x>n){p.x=n;}else{if(-p.x>o){p.x=-o;}else{return;}}this.recalculateDeltaX(p);};m.prototype.recalculateDeltaY=function(p){var o=Math.abs(p.deltaY);p.deltaY=p.y-p.top;var n=Math.abs(p.deltaY);p.duration=p.duration*n/o;};m.prototype.recalculateDeltaX=function(p){var o=Math.abs(p.deltaX);p.deltaX=p.x-p.left;var n=Math.abs(p.deltaX);p.duration=p.duration*n/o;};m.prototype.hideRefresh=function(n){var o=this;if(this.preventHideRefresh){return;}var p=function(){o.setRefreshContent("Pull to Refresh");f.trigger(o,"refresh-finish");
};this.scrollerMoveCSS({x:0,y:0},h);if(n===false||!o.afEl.css3Animate){p();}else{o.afEl.css3Animate({time:h+"ms",complete:p});}this.refreshTriggered=false;};m.prototype.setMomentum=function(o){var n=0.0008;o.speedY=this.divide(o.deltaY,o.duration);o.speedX=this.divide(o.deltaX,o.duration);o.absSpeedY=Math.abs(o.speedY);o.absSpeedX=Math.abs(o.speedX);o.absDeltaY=Math.abs(o.deltaY);o.absDeltaX=Math.abs(o.deltaX);if(o.absDeltaY>0){o.deltaY+=(o.deltaY<0?-1:1)*(o.absSpeedY*o.absSpeedY)/(2*n);o.absDeltaY=Math.abs(o.deltaY);o.duration=o.absSpeedY/n;o.speedY=o.deltaY/o.duration;o.absSpeedY=Math.abs(o.speedY);if(o.absSpeedY<n*100||o.absDeltaY<5){o.deltaY=o.absDeltaY=o.duration=o.speedY=o.absSpeedY=0;}}else{if(o.absDeltaX){o.deltaX+=(o.deltaX<0?-1:1)*(o.absSpeedX*o.absSpeedX)/(2*n);o.absDeltaX=Math.abs(o.deltaX);o.duration=o.absSpeedX/n;o.speedX=o.deltaX/o.duration;o.absSpeedX=Math.abs(o.speedX);if(o.absSpeedX<n*100||o.absDeltaX<5){o.deltaX=o.absDeltaX=o.duration=o.speedX=o.absSpeedX=0;}}else{o.duration=0;}}};m.prototype.onTouchEnd=function(s){if(this.currentScrollingObject===null||!this.moved){return;}this.finishScrollingObject=this.currentScrollingObject;this.currentScrollingObject=null;var t=this.calculateMovement(this.lastEventInfo,true);if(!this.androidFormsMode){this.setMomentum(t);}this.calculateTarget(t);var r=this.getCSSMatrix(this.el);t.top=numOnly(r.f);t.left=numOnly(r.e);this.checkYboundary(t);if(this.elementInfo.hasHorScroll){this.checkXboundary(t);}var o=!this.preventPullToRefresh&&(t.top>this.refreshHeight||t.y>this.refreshHeight);this.fireRefreshRelease(o,t.top>0);if(this.refresh&&o){t.y=this.refreshHeight;t.duration=h;}else{if(t.y>=0){t.y=0;if(t.top>=0){t.duration=h;}}else{if(-t.y>this.elementInfo.maxTop||this.elementInfo.maxTop===0){t.y=-this.elementInfo.maxTop;if(-t.top>this.elementInfo.maxTop){t.duration=h;}}}}if(this.elementInfo.hasHorScroll){if(t.x>=0){t.x=0;if(t.left>=0&&this.refresh){t.duration=h;}}else{if(-t.x>this.elementInfo.maxLeft||this.elementInfo.maxLeft===0){t.x=-this.elementInfo.maxLeft;if(-t.left>this.elementInfo.maxLeft&&this.refresh){t.duration=h;}}}}var n=Math.abs(t.top-this.lastScrollInfo.top);if(n<=2){t.y=this.lastScrollInfo.y;}var q=Math.abs(t.left-this.lastScrollInfo.left);if(q<=2){t.x=this.lastScrollInfo.x;}if((t.x===t.left&&t.y===t.top)||this.androidFormsMode){t.duration=0;}this.scrollerMoveCSS(t,t.duration,"cubic-bezier(0.33,0.66,0.66,1)");this.setVScrollBar(t,t.duration,"cubic-bezier(0.33,0.66,0.66,1)");this.setHScrollBar(t,t.duration,"cubic-bezier(0.33,0.66,0.66,1)");this.setFinishCalback(t.duration);if(this.infinite&&!this.infiniteTriggered){if((Math.abs(t.y)>=(this.el.clientHeight-this.container.clientHeight))){var p=this;setTimeout(function(){p.infiniteTriggered=true;f.trigger(p,"infinite-scroll");},t.duration-50);}}};m.prototype.setFinishCalback=function(o){var n=this;this.scrollingFinishCB=setTimeout(function(){n.hideScrollbars();f.trigger(f.touchLayer,"scrollend",[n.el]);f.trigger(n,"scrollend",[n.el]);n.isScrolling=false;n.elementInfo=null;if(n.infinite&&n.infiniteTriggered){f.trigger(n,"infinite-scroll-end");}},o);};m.prototype.startFormsMode=function(){if(this.blockFormsFix){return;}var n=this.getCSSMatrix(this.el);this.refreshSafeKeep=this.refresh;this.refresh=false;this.androidFormsMode=true;this.el.style[f.feat.cssPrefix+"Transform"]="none";this.el.style[f.feat.cssPrefix+"Transition"]="none";this.el.style[f.feat.cssPrefix+"Perspective"]="none";this.scrollerMoveCSS({x:numOnly(n.e),y:numOnly(n.f)},0);this.container.style[f.feat.cssPrefix+"Perspective"]="none";this.container.style[f.feat.cssPrefix+"BackfaceVisibility"]="visible";if(this.vscrollBar){this.vscrollBar.style[f.feat.cssPrefix+"Transform"]="none";this.vscrollBar.style[f.feat.cssPrefix+"Transition"]="none";this.vscrollBar.style[f.feat.cssPrefix+"Perspective"]="none";this.vscrollBar.style[f.feat.cssPrefix+"BackfaceVisibility"]="visible";}if(this.hscrollBar){this.hscrollBar.style[f.feat.cssPrefix+"Transform"]="none";this.hscrollBar.style[f.feat.cssPrefix+"Transition"]="none";this.hscrollBar.style[f.feat.cssPrefix+"Perspective"]="none";this.hscrollBar.style[f.feat.cssPrefix+"BackfaceVisibility"]="visible";}};m.prototype.stopFormsMode=function(){if(this.blockFormsFix){return;}var n=this.getCSSMatrix(this.el);this.refresh=this.refreshSafeKeep;this.androidFormsMode=false;this.el.style[f.feat.cssPrefix+"Perspective"]=1000;this.el.style.marginTop=0;this.el.style.marginLeft=0;this.el.style[f.feat.cssPrefix+"Transition"]="0ms linear";this.scrollerMoveCSS({x:numOnly(n.e),y:numOnly(n.f)},0);this.container.style[f.feat.cssPrefix+"Perspective"]=1000;this.container.style[f.feat.cssPrefix+"BackfaceVisibility"]="hidden";if(this.vscrollBar){this.vscrollBar.style[f.feat.cssPrefix+"Perspective"]=1000;this.vscrollBar.style[f.feat.cssPrefix+"BackfaceVisibility"]="hidden";}if(this.hscrollBar){this.hscrollBar.style[f.feat.cssPrefix+"Perspective"]=1000;this.hscrollBar.style[f.feat.cssPrefix+"BackfaceVisibility"]="hidden";}};m.prototype.scrollerMoveCSS=function(r,q,p){if(!q){q=0;
}if(!p){p="linear";}q=numOnly(q);var n=this;if(this.el&&this.el.style){if(this.eventsActive){if(this.androidFormsMode){this.el.style.marginTop=Math.round(r.y)+"px";this.el.style.marginLeft=Math.round(r.x)+"px";}else{var o={x:r.x,y:r.y,duration:q,easing:"easeOutSine"};if(n.initScrollProgress){o.update=function(s){f.trigger(n,"scroll",[s]);f.trigger(f.touchLayer,"scroll",[s]);};}f(this.el).animate(o).start();}}this.logPos(r.x,r.y);}};m.prototype.logPos=function(n,p){var o;if(!this.elementInfo){o=this.getViewportSize();}else{o={h:this.elementInfo.bottomMargin,w:this.elementInfo.rightMargin};}this.loggedPcentX=this.divide(n,(this.el.clientWidth-o.w));this.loggedPcentY=this.divide(p,(this.el.clientHeight-o.h));this.scrollTop=p;this.scrollLeft=n;};m.prototype.scrollbarMoveCSS=function(n,q,p,o){if(!p){p=0;}if(!o){o="linear";}if(n&&n.style){if(this.androidFormsMode){n.style.marginTop=Math.round(q.y)+"px";n.style.marginLeft=Math.round(q.x)+"px";}else{f(n).animate({x:q.x,y:q.y,duration:p,easing:"easeOutSine"}).start();}}};m.prototype.scrollTo=function(o,n){if(!n){n=0;}this.scrollerMoveCSS(o,n);};m.prototype.scrollBy=function(r,q){var p=this.getCSSMatrix(this.el);var n=numOnly(p.f);var o=numOnly(p.e);this.scrollTo({y:n-r.y,x:o-r.x},q);};m.prototype.scrollToBottom=function(n){this.scrollTo({y:-1*(this.el.clientHeight-this.container.clientHeight),x:0},n);};m.prototype.scrollToTop=function(n){this.scrollTo({x:0,y:0},n);};return i;})();})(af);(function(c){function b(g,e,f){if(f===true){if(!this.getAttribute("multiple")){c.selectBox.updateMaskValue(this.parentNode.id,this.text,this.value);}this.parentNode.value=this.value;}return f;}function d(g,e,f){if(this.options[f]){if(!this.getAttribute("multiple")){c.selectBox.updateMaskValue(this.linker,this.options[f].value,this.options[f].text);}this.value=this.options[f].value;}return f;}function a(g){var f=g.target;c(f.linker).remove();delete f.linker;g.stopPropagation();}c.selectBox={scroller:null,currLinker:null,getOldSelects:function(o){if(!c.os.android||c.os.androidICS){return;}if(!c.fn.scroller){window.alert("This library requires af.scroller");return;}var e=o&&document.getElementById(o)?document.getElementById(o):document;if(!e){window.alert("Could not find container element for af.selectBox "+o);return;}var k=e.getElementsByTagName("select");var m=this;for(var l=0;l<k.length;l++){var f=k[l];f.style.display="none";var n=c.create("div",{className:"afFakeSelect"});n.get(0).linker=k[l];f.linker=n.get(0);n.insertAfter(k[l]);f.watch("selectedIndex",d);for(var h=0;h<f.options.length;h++){var g=h;f.options[h].watch("selected",b);if(f.options[h].selected){n.html(f.options[h].text);}}c(f).one("destroy",a);}m.createHtml();},updateDropdown:function(f){if(!f){return;}for(var e=0;e<f.options.length;e++){if(f.options[e].selected){f.linker.innerHTML=f.options[e].text;}}f=null;},initDropDown:function(g){var o=this;if(g.disabled){return;}if(!g||!g.options||g.options.length===0){return;}var q="";var m=0;var h=c("#afSelectBoxfix");h.html("<ul></ul>");var n=h.find("ul");for(var l=0;l<g.options.length;l++){var i=l;g.options[l].watch("selected",b);var r=(g.options[l].selected)?"selected":"";if(r){m=l+1;}var u=c.create("li",{html:g.options[l].text,className:r});u.data("ind",l);n.append(u);}c("#afModalMask").show();try{if(m>0&&g.getAttribute("multiple")!=="multiple"){var f=0;var s=numOnly(n.find("li").computedStyle("height"));var k=numOnly(c("#afSelectBoxContainer").computedStyle("height"));if(m*s>=k){f=(m-1)*-s;}this.scroller.scrollTo({x:0,y:f});}}catch(p){console.log("error init dropdown"+p);}var t=c("#afSelectClose").css("display")==="block"?numOnly(c("#afSelectClose").height()):0;c("#afSelectWrapper").height((numOnly(c("#afSelectBoxContainer").height())-t)+"px");},updateMaskValue:function(g,f,e){c(g).html(e);},setDropDownValue:function(f,h){if(!f){return;}var e=c(f);h=parseInt(h,10);if(!f.getAttribute("multiple")){f.selectedIndex=h;e.find("option").prop("selected",false);e.find("option:nth-child("+(h+1)+")").prop("selected",true);this.scroller.scrollTo({x:0,y:0});this.hideDropDown();}else{var g=c("#afSelectBoxfix li:nth-child("+(h+1)+")");if(g.hasClass("selected")){g.removeClass("selected");}else{g.addClass("selected");}}c(f).trigger("change");f=null;},hideDropDown:function(){c("#afModalMask").hide();c("#afSelectBoxfix").html("");},createHtml:function(){var e=this;if(document.getElementById("afSelectBoxfix")){return;}c(document).ready(function(){c(document).on("click",".afFakeSelect",function(l){if(this.linker.disabled){return;}e.currLinker=this;if(this.linker.getAttribute("multiple")==="multiple"){c("#afSelectClose").show();}else{c("#afSelectClose").hide();}e.initDropDown(this.linker);});var f=c.create("div",{id:"afSelectBoxContainer"});var j=c.create("div",{id:"afSelectBoxfix"});var k=c.create("div",{id:"afSelectWrapper"});k.css("position","relative");k.append(j);var g=c.create("div",{id:"afSelectClose",html:"<a id='afSelectDone'>Done</a> <a id='afSelectCancel'>Cancel</a>"});var h=c.create("div",{id:"afModalMask"});
    var i=c("#afui");f.prepend(g).append(k);h.append(f);if(i.length>0){i.append(h);}else{document.body.appendChild(h.get(0));}e.scroller=c.query("#afSelectBoxfix").scroller({scroller:false,verticalScroll:true,vScrollCSS:"afselectscrollBarV",hasParent:true});c("#afModalMask").on("click",function(m){var l=c(m.target);if(l.closest("#afSelectBoxContainer").length===0){e.hideDropDown();}});c("#afSelectBoxfix").on("click","li",function(m){var l=c(m.target);e.setDropDownValue(e.currLinker.linker,l.data("ind"));});c("#afSelectBoxContainer").on("click","a",function(l){if(l.target.id==="afSelectCancel"){return e.hideDropDown();}var m=c(e.currLinker.linker);m.find("option").prop("selected",false);c("#afSelectBoxfix li").each(function(o){var n=c(this);if(n.hasClass("selected")){var p=parseInt(n.data("ind"),10);m.find("option:nth-child("+(p+1)+")").prop("selected",true);e.currLinker.innerHTML=n.html();}});e.hideDropDown();l.stopPropagation();l.preventDefault();return false;});});}};if(!HTMLElement.prototype.watch){HTMLElement.prototype.watch=function(j,f){var g=this[j],h=g,e=function(){return h;},i=function(k){g=h;h=f.call(this,j,g,k);return h;};if(delete this[j]){if(HTMLElement.defineProperty){HTMLElement.defineProperty(this,j,{get:e,set:i,enumerable:false,configurable:true});}else{if(HTMLElement.prototype.__defineGetter__&&HTMLElement.prototype.__defineSetter__){HTMLElement.prototype.__defineGetter__.call(this,j,e);HTMLElement.prototype.__defineSetter__.call(this,j,i);}}}};}if(!HTMLElement.prototype.unwatch){HTMLElement.prototype.unwatch=function(f){var e=this[f];delete this[f];this[f]=e;};}})(af);(function(g){var h={},d;function a(i){return"tagName" in i?i:i.parentNode;}function c(j,i,l,k){var n=Math.abs(j-i),m=Math.abs(l-k);if(n>=m){return(j-i>0?"Left":"Right");}else{return(l-k>0?"Up":"Down");}}var f=750;function e(){if(h.last&&(Date.now()-h.last>=f)){h.el.trigger("longTap");h={};}}var b;g(document).ready(function(){var i;g(document.body).bind("touchstart",function(k){if(k.originalEvent){k=k.originalEvent;}if(!k.touches||k.touches.length===0){return;}var j=Date.now(),l=j-(h.last||j);if(!k.touches||k.touches.length===0){return;}h.el=g(a(k.touches[0].target));d&&clearTimeout(d);h.x1=k.touches[0].pageX;h.y1=k.touches[0].pageY;h.x2=h.y2=0;if(l>0&&l<=250){h.isDoubleTap=true;}h.last=j;b=setTimeout(e,f);if(g.ui.useAutoPressed&&!h.el.data("ignore-pressed")){h.el.addClass("pressed");}if(i&&g.ui.useAutoPressed&&!i.data("ignore-pressed")&&i[0]!==h.el[0]){i.removeClass("pressed");}i=h.el;}).bind("touchmove",function(j){if(j.originalEvent){j=j.originalEvent;}h.x2=j.touches[0].pageX;h.y2=j.touches[0].pageY;clearTimeout(b);}).bind("touchend",function(j){if(j.originalEvent){j=j.originalEvent;}if(!h.el){return;}if(g.ui.useAutoPressed&&!h.el.data("ignore-pressed")){h.el.removeClass("pressed");}if(h.isDoubleTap){h.el.trigger("doubleTap");h={};}else{if(h.x2>0||h.y2>0){(Math.abs(h.x1-h.x2)>30||Math.abs(h.y1-h.y2)>30)&&h.el.trigger("swipe")&&h.el.trigger("swipe"+(c(h.x1,h.x2,h.y1,h.y2)));h.x1=h.x2=h.y1=h.y2=h.last=0;}else{if("last" in h){h.el.trigger("tap");d=setTimeout(function(){d=null;if(h.el){h.el.trigger("singleTap");}h={};},250);}}}}).bind("touchcancel",function(){if(h.el&&g.ui.useAutoPressed&&!h.el.data("ignore-pressed")){h.el.removeClass("pressed");}h={};clearTimeout(b);});});["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(i){g.fn[i]=function(j){return this.bind(i,j);};});})(af);(function(e){e.touchLayer=function(n){e.touchLayer=new h(n);return e.touchLayer;};var j=["input","select","textarea"];var b=["button","radio","checkbox","range","date"];var l=e.os.ios;var m=e.os.blackberry;var d=e.os.blackberry||e.os.fennec||(e.os.android&&!e.os.chrome);var i=e.os.ios&&!e.os.ios7;var k=0.97;var g=2;var a=false;var f=false;function c(){var o=new Date();var p=o.getTime();return p;}var h=function(n){this.clearTouchVars();n.addEventListener("touchstart",this,false);n.addEventListener("touchmove",this,false);n.addEventListener("touchend",this,false);n.addEventListener("click",this,false);n.addEventListener("focusin",this,false);document.addEventListener("scroll",this,false);window.addEventListener("resize",this,false);window.addEventListener("orientationchange",this,false);this.layer=n;this.scrollEndedProxy_=e.proxy(this.scrollEnded,this);this.exitEditProxy_=e.proxy(this.exitExit,this,[]);this.launchFixUIProxy_=e.proxy(this.launchFixUI,this);var o=this;this.scrollTimeoutExpireProxy_=function(){o.scrollTimeout_=null;o.scrollTimeoutEl_.addEventListener("scroll",o.scrollEndedProxy_,false);};this.retestAndFixUIProxy_=function(){if(e.os.android&&!e.os.chrome){o.layer.style.height="100%";}e.asap(o.testAndFixUI,o,arguments);};document.addEventListener("click",function(p){if(f){p.preventDefault();p.stopPropagation();return false;}if(p.clientX!==undefined&&o.lastTouchStartX!==null){if(2>Math.abs(o.lastTouchStartX-p.clientX)&&2>Math.abs(o.lastTouchStartY-p.clientY)){p.preventDefault();p.stopPropagation();
}}},true);e.bind(this,"scrollstart",function(p){o.isScrolling=true;o.scrollingEl_=p;if(!e.feat.nativeTouchScroll){o.scrollerIsScrolling=true;}o.fireEvent("UIEvents","scrollstart",p,false,false);});e.bind(this,"scrollend",function(p){o.isScrolling=false;if(!e.feat.nativeTouchScroll){o.scrollerIsScrolling=false;}o.fireEvent("UIEvents","scrollend",p,false,false);});this.hideAddressBar(0,1);this.launchFixUI(5);};h.prototype={dX:0,dY:0,cX:0,cY:0,touchStartX:null,touchStartY:null,layer:null,scrollingEl_:null,scrollTimeoutEl_:null,scrollTimeout_:null,reshapeTimeout_:null,scrollEndedProxy_:null,exitEditProxy_:null,launchFixUIProxy_:null,reHideAddressBarTimeout_:null,retestAndFixUIProxy_:null,panElementId:"header",blockClicks:false,allowDocumentScroll_:false,ignoreNextResize_:false,blockPossibleClick_:false,isScrolling:false,isScrollingVertical_:false,wasPanning_:false,isPanning_:false,isFocused_:false,justBlurred_:false,requiresNativeTap:false,holdingReshapeType_:null,trackingClick:false,scrollerIsScrolling:false,handleEvent:function(n){switch(n.type){case"touchstart":this.onTouchStart(n);break;case"touchmove":this.onTouchMove(n);break;case"touchend":this.onTouchEnd(n);break;case"click":this.onClick(n);break;case"blur":this.onBlur(n);break;case"scroll":this.onScroll(n);break;case"orientationchange":this.onOrientationChange(n);break;case"resize":this.onResize(n);break;case"focusin":this.onFocusIn(n);break;}},launchFixUI:function(n){if(!n){n=g;}if(this.reHideAddressBarTimeout_===null){return this.testAndFixUI(0,n);}},resetFixUI:function(){if(this.reHideAddressBarTimeout_){clearTimeout(this.reHideAddressBarTimeout_);}this.reHideAddressBarTimeout_=null;},testAndFixUI:function(o,q){var n=this.getReferenceHeight();var p=this.getCurrentHeight();if((n!==p&&!(p*k<n&&n*k<p))){this.hideAddressBar(o,q);return true;}if(e.os.android){this.resetFixUI();}return false;},hideAddressBar:function(o,q){if(e.ui&&e.ui.isIntel){return;}if(o>=q){this.resetFixUI();return;}if(e.os.desktop||e.os.kindle){this.layer.style.height="100%";}else{if(e.os.android){window.scrollTo(1,1);this.layer.style.height=this.isFocused_||window.innerHeight>=window.outerHeight?(window.innerHeight)+"px":(window.outerHeight)+"px";var p=this;var n=o+1;this.reHideAddressBarTimeout_=setTimeout(p.retestAndFixUIProxy_,250*n,n,q);}else{if(!this.isFocused_){document.documentElement.style.height="5000px";window.scrollTo(0,0);document.documentElement.style.height=window.innerHeight+"px";this.layer.style.height=window.innerHeight+"px";}}}},getReferenceHeight:function(){return window.innerHeight;},getCurrentHeight:function(){if(e.os.android){return window.innerHeight;}else{return numOnly(document.documentElement.style.height);}},onOrientationChange:function(q){var n=this;var o=false;if(this.focusedElement){o=true;this.focusedElement.blur();}if(!this.holdingReshapeType_&&this.reshapeTimeout_){this.fireReshapeEvent("orientationchange");}else{this.previewReshapeEvent("orientationchange");}if(e.os.android&&e.os.chrome){this.layer.style.height="100%";var p=o?600:0;setTimeout(function(){n.hideAddressBar(0,1);},p);}},onResize:function(n){if(this.ignoreNextResize_){this.ignoreNextResize_=false;return;}if(this.launchFixUI()){this.reshapeAction();}},onClick:function(r){var n=r.target&&r.target.tagName!==undefined?r.target.tagName.toLowerCase():"";if(j.indexOf(n)!==-1&&(!this.isFocused_||r.target!==(this.focusedElement))){var p=r.target&&r.target.type!==undefined?r.target.type.toLowerCase():"";var o=b.indexOf(p)!==-1;if(!o){if(this.isFocused_){this.focusedElement.removeEventListener("blur",this,false);}this.focusedElement=r.target;this.focusedElement.addEventListener("blur",this,false);if(!this.isFocused_&&!this.justBlurred_){e.trigger(this,"enter-edit",[r.target]);if(e.os.ios){var q=this;setTimeout(function(){q.fireReshapeEvent("enter-edit");},300);}else{this.previewReshapeEvent("enter-edit");}}this.isFocused_=true;}else{this.isFocused_=false;}this.justBlurred_=false;this.allowDocumentScroll_=true;if(l){r.target.focus();}}else{if(e.os.blackberry10&&this.isFocused_){this.focusedElement.blur();}}},previewReshapeEvent:function(o){var n=this;this.reshapeTimeout_=setTimeout(function(){n.fireReshapeEvent(o);n.reshapeTimeout_=null;n.holdingReshapeType_=null;},750);this.holdingReshapeType_=o;},fireReshapeEvent:function(n){e.trigger(this,"reshape");e.trigger(this,n?n+"-reshape":"unknown-reshape");},reshapeAction:function(){if(this.reshapeTimeout_){clearTimeout(this.reshapeTimeout_);this.fireReshapeEvent(this.holdingReshapeType_);this.holdingReshapeType_=null;this.reshapeTimeout_=null;}else{this.previewReshapeEvent();}},onFocusIn:function(n){if(!this.isFocused_){this.onClick(n);}},onBlur:function(n){if(e.os.android&&n.target===window){return;}this.isFocused_=false;if(this.focusedElement){this.focusedElement.removeEventListener("blur",this,false);}this.focusedElement=null;this.justBlurred_=true;e.asap(this.exitEditProxy_,this,[n.target]);},exitExit:function(n){this.justBlurred_=false;if(!this.isFocused_){e.trigger(this,"exit-edit",[n]);
    this.allowDocumentScroll_=false;if(e.os.ios){var o=this;setTimeout(function(){o.fireReshapeEvent("exit-edit");},300);}else{this.previewReshapeEvent("exit-edit");}}},onScroll:function(n){if(!this.allowDocumentScroll_&&!this.isPanning_&&n.target===document){this.allowDocumentScroll_=true;if(this.wasPanning_){this.wasPanning_=false;setTimeout(this.launchFixUIProxy_,2000,[g]);}else{this.launchFixUI();}}},onTouchStart:function(p){this.dX=p.touches[0].pageX;this.dY=p.touches[0].pageY;this.lastTimestamp=p.timeStamp;this.lastTouchStartX=this.lastTouchStartY=null;if(e.os.ios){if(a===p.touches[0].identifier){f=true;p.preventDefault();a=false;return false;}a=p.touches[0].identifier;f=false;}if(this.scrollerIsScrolling){this.moved=true;this.scrollerIsScrolling=false;p.preventDefault();return false;}this.trackingClick=true;if(i||e.feat.nativeTouchScroll){this.checkDOMTree(p.target,this.layer);}if(this.isScrolling){if(this.scrollTimeout_!==null){clearTimeout(this.scrollTimeout_);this.scrollTimeout_=null;if(this.scrollTimeoutEl_!==this.scrollingEl_){this.scrollEnded(false);}else{this.blockPossibleClick_=true;}}else{if(this.scrollTimeoutEl_){this.scrollEnded(true);this.blockPossibleClick_=true;}}}var o=(e.os.android&&p&&p.target&&p.target.getAttribute&&p.target.getAttribute("data-touchlayer")==="ignore");if(o||(this.isFocused_&&!e.os.blackberry10)){this.requiresNativeTap=true;this.allowDocumentScroll_=true;}else{if(d&&p.target&&p.target.tagName!==undefined){var n=p.target.tagName.toLowerCase();if(j.indexOf(n)!==-1){this.requiresNativeTap=true;}}else{if(p.target&&p.target.tagName!==undefined&&p.target.tagName.toLowerCase()==="input"&&p.target.type==="range"){this.requiresNativeTap=true;}}}if(e.os.chrome||e.os.fennec){return;}if(!this.isPanning_&&!this.requiresNativeTap){if((this.isScrolling&&!e.feat.nativeTouchScroll)||(!this.isScrolling)){p.preventDefault();}}else{if(this.isScrollingVertical_){this.demandVerticalScroll();}}},demandVerticalScroll:function(){var p=this.scrollingEl_.scrollTop<=0;if(p){this.scrollingEl_.scrollTop=1;}else{var o=this.scrollingEl_.scrollTop+this.scrollingEl_.clientHeight;var n=o>=this.scrollingEl_.scrollHeight;if(n){this.scrollingEl_.scrollTop=this.scrollingEl_.scrollHeight-this.scrollingEl_.clientHeight-1;}}},ignoreScrolling:function(n){if(n.scrollWidth===undefined||n.clientWidth===undefined){return true;}if(n.scrollHeight===undefined||n.clientHeight===undefined){return true;}return false;},allowsVerticalScroll:function(o,p){var n=p.overflowY;if(n==="scroll"){return true;}if(n==="auto"&&o.scrollHeight>o.clientHeight){return true;}return false;},allowsHorizontalScroll:function(o,p){var n=p.overflowX;if(n==="scroll"){return true;}if(n==="auto"&&o.scrollWidth>o.clientWidth){return true;}return false;},checkDOMTree:function(p,n){if(i&&this.panElementId===p.id){this.isPanning_=true;return;}if(e.feat.nativeTouchScroll){if(this.ignoreScrolling(p)){return;}var q=window.getComputedStyle(p);if(this.allowsVerticalScroll(p,q)){this.isScrollingVertical_=true;this.scrollingEl_=p;this.isScrolling=true;return;}else{if(this.allowsHorizontalScroll(p,q)){this.isScrollingVertical_=false;this.scrollingEl_=null;this.isScrolling=true;}}}var o=(p===n);if(!o&&p.parentNode){this.checkDOMTree(p.parentNode,n);}},scrollEnded:function(n){if(this.scrollTimeoutEl_===null){return;}if(n){this.scrollTimeoutEl_.removeEventListener("scroll",this.scrollEndedProxy_,false);}this.fireEvent("UIEvents","scrollend",this.scrollTimeoutEl_,false,false);this.scrollTimeoutEl_=null;},onTouchMove:function(o){var n=this.moved;this.moved=true;if(m){this.cY=o.touches[0].pageY-this.dY;this.cX=o.touches[0].pageX-this.dX;}if(this.isPanning_){return;}if(this.isScrolling){if(!n){this.fireEvent("UIEvents","scrollstart",this.scrollingEl_,false,false);}this.speedY=(this.lastY-o.touches[0].pageY)/(o.timeStamp-this.lastTimestamp);this.lastY=o.touches[0].pageY;this.lastX=o.touches[0].pageX;this.lastTimestamp=o.timeStamp;}if((!e.os.blackberry10)){if(!this.isScrolling||!e.feat.nativeTouchScroll){o.preventDefault();}return;}},onTouchEnd:function(q){var o=this.moved;if(m){o=o&&!(Math.abs(this.cX)<10&&Math.abs(this.cY)<10);}if(!e.os.ios||!this.requiresNativeTap){this.allowDocumentScroll_=false;}if(this.isPanning_&&o){this.wasPanning_=true;}else{if(!o&&!this.requiresNativeTap){this.scrollerIsScrolling=false;if(!this.trackingClick){return;}q.preventDefault();if(!this.blockClicks&&!this.blockPossibleClick_){var p=q.target;var n=q.changedTouches?q.changedTouches[0]:q.touches[0];if(p.nodeType===3){p=p.parentNode;}this.fireEvent("Event","click",p,true,q.mouseToTouch,n[0]);this.lastTouchStartX=this.dX;this.lastTouchStartY=this.dY;}}else{if(o){if(this.isScrolling){this.scrollTimeoutEl_=this.scrollingEl_;if(Math.abs(this.speedY)<0.01){this.scrollEnded(false);}else{this.scrollTimeout_=setTimeout(this.scrollTimeoutExpireProxy_,30);}}if(this.requiresNativeTap){if(!this.isFocused_){e.trigger(this,"cancel-enter-edit",[q.target]);}}}}}if(e.os.blackberry10){this.lastTouchStartX=this.dX;
    this.lastTouchStartY=this.dY;}this.clearTouchVars();},clearTouchVars:function(){this.speedY=this.lastY=this.cY=this.cX=this.dX=this.dY=0;this.moved=false;this.isPanning_=false;this.isScrolling=false;this.isScrollingVertical_=false;this.requiresNativeTap=false;this.blockPossibleClick_=false;this.trackingClick=false;},fireEvent:function(p,o,s,n,r,q){var t=document.createEvent(p);t.initEvent(o,n,true);if(q){e.each(q,function(u,v){t.key=v;});}if(r){t.mouseToTouch=true;}s.dispatchEvent(t);}};})(af);(function(d){d.fn.popup=function(e){return new b(this[0],e);};var a=[];var b=(function(){var e=function(g,f){if(typeof g==="string"||g instanceof String){this.container=document.getElementById(g);}else{this.container=g;}if(!this.container){window.alert("Error finding container for popup "+g);return;}try{if(typeof(f)==="string"||typeof(f)==="number"){f={message:f,cancelOnly:"true",cancelText:"OK"};}this.id=f.id=f.id||d.uuid();this.addCssClass=f.addCssClass?f.addCssClass:"";this.title=f.suppressTitle?"":(f.title||"Alert");this.message=f.message||"";this.cancelText=f.cancelText||"Cancel";this.cancelCallback=f.cancelCallback||function(){};this.cancelClass=f.cancelClass||"button";this.doneText=f.doneText||"Done";this.doneCallback=f.doneCallback||function(){};this.doneClass=f.doneClass||"button";this.cancelOnly=f.cancelOnly||false;this.onShow=f.onShow||function(){};this.autoCloseDone=f.autoCloseDone!==undefined?f.autoCloseDone:true;a.push(this);if(a.length===1){this.show();}}catch(h){console.log("error adding popup "+h);}};e.prototype={id:null,addCssClass:null,title:null,message:null,cancelText:null,cancelCallback:null,cancelClass:null,doneText:null,doneCallback:null,doneClass:null,cancelOnly:false,onShow:null,autoCloseDone:true,supressTitle:false,show:function(){var g=this;var f="<div id='"+this.id+"' class='afPopup hidden "+this.addCssClass+"'>"+"<header>"+this.title+"</header>"+"<div>"+this.message+"</div>"+"<footer>"+"<a href='javascript:;' class='"+this.cancelClass+"' id='cancel'>"+this.cancelText+"</a>"+"<a href='javascript:;' class='"+this.doneClass+"' id='action'>"+this.doneText+"</a>"+"<div style='clear:both'></div>"+"</footer>"+"</div>";d(this.container).append(d(f));var h=d.query("#"+this.id);h.bind("close",function(){g.hide();});if(this.cancelOnly){h.find("A#action").hide();h.find("A#cancel").addClass("center");}h.find("A").each(function(){var i=d(this);i.bind("click",function(j){if(i.attr("id")==="cancel"){g.cancelCallback.call(g.cancelCallback,g);g.hide();}else{g.doneCallback.call(g.doneCallback,g);if(g.autoCloseDone){g.hide();}}j.preventDefault();});});g.positionPopup();d.blockUI(0.5);h.bind("orientationchange",function(){g.positionPopup();});h.find("header").show();h.find("footer").show();setTimeout(function(){h.removeClass("hidden");g.onShow(g);},50);},hide:function(){var f=this;d.query("#"+f.id).addClass("hidden");d.unblockUI();if(!d.os.ie&&!d.os.android){setTimeout(function(){f.remove();},250);}else{f.remove();}},remove:function(){var f=this;var g=d.query("#"+f.id);g.unbind("close");g.find("BUTTON#action").unbind("click");g.find("BUTTON#cancel").unbind("click");g.unbind("orientationchange").remove();a.splice(0,1);if(a.length>0){a[0].show();}},positionPopup:function(){var f=d.query("#"+this.id);f.css("top",((window.innerHeight/2.5)+window.pageYOffset)-(f[0].clientHeight/2)+"px");f.css("left",(window.innerWidth/2)-(f[0].clientWidth/2)+"px");}};return e;})();var c=false;d.blockUI=function(e){if(c){return;}e=e?" style='opacity:"+e+";'":"";d.query("BODY").prepend(d("<div id='mask'"+e+"></div>"));d.query("BODY DIV#mask").bind("touchstart",function(f){f.preventDefault();});d.query("BODY DIV#mask").bind("touchmove",function(f){f.preventDefault();});c=true;};d.unblockUI=function(){c=false;d.query("BODY DIV#mask").unbind("touchstart");d.query("BODY DIV#mask").unbind("touchmove");d("BODY DIV#mask").remove();};})(af);(function(c){var g=false;var f=window.location.pathname+window.location.search;var b=window.location.hash;var i=b;var e=function(){var k=this;this.availableTransitions={};this.availableTransitions["default"]=this.availableTransitions.none=this.noTransition;if((typeof define==="function"&&define.amd)||(typeof module!=="undefined"&&module.exports)){k.autoLaunch=false;}if(c("#afui").length===1){l();}var j=function(){var n=document.getElementById("afui");if(n===null){n=document.createElement("div");n.id="afui";var m=document.body;while(m&&m.firstChild){n.appendChild(m.firstChild);}c(document.body).prepend(n);}k.isIntel="intel" in window&&window.intel&&window.intel.xdk&&"app" in window.intel.xdk;if(c.os.supportsTouch){c.touchLayer(n);}l();};if(document.readyState==="complete"||document.readyState==="loaded"){j();if(k.init){k.autoBoot();}else{c(window).one("afui:init",function(){k.autoBoot();});}}else{c(document).ready(function(){j();if(k.init){k.autoBoot();}else{c(window).one("afui:init",function(){k.autoBoot();});}},false);}if(!("intel" in window)){window.intel={xdk:{}};window.intel.xdk.webRoot="";}window.addEventListener("popstate",function(){if(!k.useInternalRouting){return;
}var n=k.getPanelId(document.location.hash);var m=document.location.href.replace(document.location.origin+"/","");if(m==="#"){return;}if(n===""&&k.history.length===1){n="#"+k.firstDiv.id;}if(n===""){return;}if(af(n).filter(".panel").length===0){return;}if(n!=="#"+k.activeDiv.id){k.goBack();}},false);function l(){if(k.useOSThemes){c("#afui").removeClass("ios,ios7,win8,tizen,bb,android,light,dark");if(c.os.android){c("#afui").addClass("android");}else{if(c.os.ie){c("#afui").addClass("win8");c("head").append(c.create("script",{src:"plugins/af.8tiles.js"}));}else{if(c.os.blackberry||c.os.blackberry10||c.os.playbook){c("#afui").addClass("bb");k.backButtonText="Back";}else{if(c.os.ios7){c("#afui").addClass("ios7");}else{if(c.os.ios){c("#afui").addClass("ios");}else{if(c.os.tizen){c("#afui").addClass("tizen");}}}}}}}if(c.os.ios){c("head").find("#iosBlurrHack").remove();var m="-webkit-backface-visibility: hidden;";m+="-webkit-perspective:1000;";c("head").append("<style id='iosBlurrHack'>#afui .y-scroll > *, #afui .x-scroll > * {"+m+"}</style>");}else{if(c.os.anroid&&!c.os.androidICS){k.transitionTime="150ms";}else{if(c.os.fennec){k.ready(function(){var n=numOnly(c("#header").height())+numOnly(c("#navbar").height());c("#content").css("height",window.innerHeight-n);});}}}}};e.prototype={init:false,transitionTime:"230ms",showLoading:true,loadingText:"Loading Content",loadContentQueue:[],isIntel:false,titlebar:"",navbar:"",header:"",viewportContainer:"",remotePages:{},history:[],homeDiv:"",screenWidth:"",content:"",modalWindow:"",customFooter:false,defaultFooter:"",defaultHeader:null,customMenu:false,customAside:false,defaultAside:"",defaultMenu:"",_readyFunc:null,doingTransition:false,passwordBox:c.passwordBox?new c.passwordBox():false,selectBox:c.selectBox?c.selectBox:false,ajaxUrl:"",transitionType:"slide",scrollingDivs:{},firstDiv:"",hasLaunched:false,isLaunching:false,launchCompleted:false,activeDiv:"",customClickHandler:"",menuAnimation:null,togglingSideMenu:false,sideMenuWidth:"200px",handheldMinWidth:"768",trimBackButtonText:true,useOSThemes:true,lockPageBounce:false,animateHeaders:true,useAutoPressed:true,horizontalScroll:false,_currentHeaderID:"defaultHeader",useInternalRouting:true,autoBoot:function(){this.hasLaunched=true;var j=this;if(this.autoLaunch){if(this.isIntel){c(document).one("intel.xdk.device.ready",function(){j.launch();});}else{this.launch();}}},css3animate:function(j,k){j=c(j);return j.css3Animate(k);},dispatchPanelEvent:function(o,n){if(typeof o==="string"&&window[o]){return window[o](n);}else{if(o.indexOf(".")!==-1){var m=window,k=o.split("."),j=k.length,l=0;for(l;l<j-1;l++){m=m[k[l]];if(m===undefined){return;}}return m[k[l]](n);}}},enableTabBar:function(j){c(document).on("click",".button-grouped.tabbed",function(l){var k=c(l.target);k.closest(".tabbed").find(".button").data("ignore-pressed","true").removeClass("pressed");k.closest(".button").addClass("pressed");setTimeout(function(){k.closest(".button").addClass("pressed");});});},disableTabBar:function(j){c(document).off("click",".button-grouped.tabbed");c(".button-grouped.tabbed .button").removeAttr("data-ignore-pressed");},setLeftSideMenuWidth:function(k){this.sideMenuWidth=k;k=k+"";k=k.replace("px","")+"px";var l=numOnly(window.innerWidth)-numOnly(k);c("head").find("style#afui_sideMenuWidth").remove();var j="@media handheld, only screen and (min-width: 768px) {"+"#afui > #navbar.hasMenu.splitview, #afui > #header.hasMenu.splitview, #afui > #content.hasMenu.splitview  {"+"    margin-left:"+k+" !important;"+"    width: "+(l)+"px !important;"+"}"+"}"+"#afui #menu {width:"+k+"  !important}";c("head").append("<style id='afui_sideMenuWidth'>"+j+"</style>");},setSideMenuWidth:function(){this.setLeftSideMenuWidth.apply(this,arguments);},setRightSideMenuWidth:function(j){this.sideMenuWidth=j;j=j+"";j=j.replace("px","")+"px";c("head").find("style#afui_asideMenuWidth").remove();c("head").append("<style id='afui_asideMenuWidth'>#afui #aside_menu {width:"+j+"  !important}</style>");},disableNativeScrolling:function(){c.feat.nativeTouchScroll=false;},manageHistory:true,loadDefaultHash:true,useAjaxCacheBuster:false,actionsheet:function(j){return c.query("#afui").actionsheet(j);},popup:function(j){return c.query("#afui").popup(j);},blockUI:function(j){c.blockUI(j);},unblockUI:function(){c.unblockUI();},removeFooterMenu:function(){c.query("#navbar").hide();this.showNavMenu=false;},showNavMenu:true,autoLaunch:true,showBackbutton:true,showBackButton:true,backButtonText:"",resetScrollers:true,ready:function(j){if(this.launchCompleted){j();}else{c(document).on("afui:ready",function(k){j();});}},setBackButtonStyle:function(j){c.query("#header #backButton").get(0).className=j;},goBack:function(k){k=Math.min(Math.abs(~~k||1),this.history.length);if(k){var j=this.history.splice(-k).shift();this.loadContent(j.target+"",0,1,j.transition);this.transitionType=j.transition;this.updateHash(j.target);}},clearHistory:function(){this.history=[];this.setBackButtonVisibility(false);
},pushHistory:function(j,k,n,m){this.history.push({target:j,transition:n});try{if(!this.manageHistory){return;}window.history.pushState(k,k,f+"#"+k+m);c(window).trigger("hashchange",null,{newUrl:f+"#"+k+m,oldUrl:f+j});}catch(l){}},updateHash:function(k){if(!this.manageHistory){return;}k=k.indexOf("#")===-1?"#"+k:k;i=k;var j=window.location.hash;var m=this.getPanelId(k).substring(1);try{window.history.replaceState(m,m,f+k);c(window).trigger("hashchange",null,{newUrl:f+k,oldUrl:f+j});}catch(l){}},getPanelId:function(k){var j=k.indexOf("/");return j===-1?k:k.substring(0,j);},updateBadge:function(o,n,k,m){if(k===undefined){k="";}var j=c(o);var l=j.find("span.af-badge");if(l.length===0){if(j.css("position")!=="absolute"){j.css("position","relative");}l=c.create("span",{className:"af-badge "+k,html:n});j.append(l);}else{l.html(n);}l.removeClass("tl bl br tr");l.addClass(k);if(m===undefined){m="red";}if(c.isObject(m)){l.css(m);}else{if(m){l.css("background",m);}}l.data("ignore-pressed","true");},removeBadge:function(j){c(j).find("span.af-badge").remove();},toggleNavMenu:function(j){if(!this.showNavMenu){return;}if(c.query("#navbar").css("display")!=="none"&&((j!==undefined&&j!==true)||j===undefined)){c.query("#navbar").hide();}else{if(j===undefined||(j!==undefined&&j===true)){c.query("#navbar").show();}}},toggleHeaderMenu:function(j){if(c.query("#header").css("display")!=="none"&&((j!==undefined&&j!==true)||j===undefined)){c.query("#header").hide();}else{if(j===undefined||(j!==undefined&&j===true)){c.query("#header").show();}}},toggleAsideMenu:function(){this.toggleRightSideMenu.apply(this,arguments);},toggleRightSideMenu:function(j,l,k){if(!this.isAsideMenuEnabled()){return;}return this.toggleLeftSideMenu(j,l,k,true);},toggleLeftSideMenu:function(j,u,m,l){if((!this.isSideMenuEnabled()&&!this.isAsideMenuEnabled())||this.togglingSideMenu){return;}if(!l&&!this.isSideMenuEnabled()){return;}if(!l&&c.ui.splitview&&window.innerWidth>=c.ui.handheldMinWidth){return;}var p=this;var k=c.query("#menu");var r=c.query("#aside_menu");var n=c.query("#content,  #header, #navbar");var q=c.query(".afui_panel_mask");m=m||this.transitionTime;var o=this.isSideMenuOn();var s=l?"-"+r.width():k.width();if(q.length===0&&window.innerWidth<c.ui.handheldMinWidth){n.append("<div class='afui_panel_mask'></div>");q=c.query(".afui_panel_mask");c(".afui_panel_mask").bind("click",function(){c.ui.toggleSideMenu(false,null,null,l);});}var t=this.getSideMenuPosition();if(o&&!l&&t<0){o=false;}else{if(o&&l&&t>0){o=false;}}if(j===2||(!o&&((j!==undefined&&j!==false)||j===undefined))){this.togglingSideMenu=true;if(!l){k.show();}else{r.show();}p.css3animate(n,{x:s,time:m,complete:function(v){p.togglingSideMenu=false;n.vendorCss("Transition","");if(u){u(v);}if(q.length!==0&&window.innerWidth<c.ui.handheldMinWidth){q.show();}}});}else{if(j===undefined||(j!==undefined&&j===false)){this.togglingSideMenu=true;p.css3animate(n,{x:"0px",time:m,complete:function(v){n.vendorCss("Transition","");n.vendorCss("Transform","");p.togglingSideMenu=false;if(u){u(v);}if(!c.ui.splitview){k.hide();}r.hide();if(q.length!==0&&window.innerWidth<c.ui.handheldMinWidth){q.hide();}}});}}},toggleSideMenu:function(){this.toggleLeftSideMenu.apply(this,arguments);},disableSideMenu:function(){this.disableLeftSideMenu();},disableLeftSideMenu:function(){var k=this;var j=c.query("#content, #header, #navbar");if(this.isSideMenuOn()){this.toggleSideMenu(false,function(l){if(!l){j.removeClass("hasMenu");}});}else{j.removeClass("hasMenu");}},enableLeftSideMenu:function(){c.query("#content, #header, #navbar").addClass("hasMenu");},enableSideMenu:function(){return this.enableLeftSideMenu();},disableRightSideMenu:function(){var k=this;var j=c.query("#content, #header, #navbar");if(this.isSideMenuOn()){this.toggleSideMenu(false,function(l){if(!l){j.removeClass("hasAside");}});}else{j.removeClass("hasAside");}},enableRightSideMenu:function(){c.query("#content, #header, #navbar").addClass("hasAside");},isSideMenuEnabled:function(){return c.query("#content").hasClass("hasMenu");},isAsideMenuEnabled:function(){return c.query("#content").hasClass("hasAside");},isSideMenuOn:function(){var j=this.getSideMenuPosition()!==0?true:false;return(this.isSideMenuEnabled()||this.isAsideMenuEnabled)&&j;},getSideMenuPosition:function(){return numOnly(parseFloat(c.getCssMatrix(c("#content")).e));},splitview:true,disableSplitView:function(){c.query("#content, #header, #navbar, #menu").removeClass("splitview");this.splitview=false;},prevFooter:null,updateNavbarElements:function(k){if(this.prevFooter){if(this.prevFooter.data("parent")){this.prevFooter.appendTo("#"+this.prevFooter.data("parent"));}else{this.prevFooter.appendTo("#afui");}}if(!c.is$(k)){k=c.query("#"+k);}c.query("#navbar").append(k);this.prevFooter=k;var l=c.query("#navbar > footer > a:not(.button)");if(l.length>0){l.data("ignore-pressed","true").data("resetHistory","true");var n=parseFloat(100/l.length);l.css("width",n+"%");}var j=c.query("#navbar footer");
    if(j.length===0){return;}j=j.get(0).childNodes;for(var m=0;m<j.length;m++){if(j[m].nodeType===3){j[m].parentNode.removeChild(j[m]);}}},prevHeader:null,updateHeaderElements:function(j,k){var l=this;if(!c.is$(j)){j=c.query("#"+j);}if(j===this.prevHeader){return;}this._currentHeaderID=j.prop("id");if(this.prevHeader){c.query("#header").append(j);if(!c.ui.animateHeaders){if(l.prevHeader.data("parent")){l.prevHeader.appendTo("#"+l.prevHeader.data("parent"));}else{l.prevHeader.appendTo("#afui");}l.prevHeader=j;return;}var n=k?"100px":"-100px";var m=k?"-100px":"100px";l.prevHeader.addClass("ignore");l.css3animate(j,{x:m,opacity:0.3,time:"1ms"});l.css3animate(l.prevHeader,{x:n,y:0,opacity:0.3,time:l.transitionTime,delay:numOnly(l.transitionTime)/5+"ms",complete:function(){if(l.prevHeader.data("parent")){l.prevHeader.appendTo("#"+l.prevHeader.data("parent"));}else{l.prevHeader.appendTo("#afui");}l.prevHeader.removeClass("ignore");l.css3animate(l.prevHeader,{x:m,opacity:1,time:"1ms"});l.prevHeader=j;}});l.css3animate(j,{x:"0px",opacity:1,time:l.transitionTime});}else{c.query("#header").append(j);this.prevHeader=j;}},previAsideMenu:null,updateAsideElements:function(){return this.updateRightSideMenuElements.apply(this,arguments);},updateRightSideMenuElements:function(k){var l=this;if(k===undefined||k===null){return;}var j=c.query("#aside_menu_scroller");if(this.prevAsideMenu){this.prevAsideMenu.insertBefore("#afui #aside_menu");this.prevAsideMenu=null;}if(!c.is$(k)){k=c.query("#"+k);}j.html("");j.append(k);this.prevAsideMenu=k;this.scrollingDivs.aside_menu_scroller.hideScrollbars();this.scrollingDivs.aside_menu_scroller.scrollToTop();},updateSideMenu:function(j){return this.updateSideMenuElements(j);},updateSideMenuElements:function(){return this.updateLeftSideMenuElements.apply(this,arguments);},updateLeftSideMenuElements:function(k){var l=this;if(k===undefined||k===null){return;}var j=c.query("#menu_scroller");if(this.prevMenu){this.prevMenu.insertBefore("#afui #menu");this.prevMenu=null;}if(!c.is$(k)){k=c.query("#"+k);}j.html("");j.append(k);this.prevMenu=k;this.scrollingDivs.menu_scroller.hideScrollbars();this.scrollingDivs.menu_scroller.scrollToTop();},setTitle:function(j){if(this._currentHeaderID!=="defaultHeader"){return;}c.query("#header header:not(.ignore)  #pageTitle").html(j);},setBackButtonText:function(j){if(this._currentHeaderID!=="defaultHeader"){return;}if(this.trimBackButtonText&&j.length>=7){j=j.substring(0,5)+"...";}if(this.backButtonText.length>0){c.query("#header header:not(.ignore) #backButton").html(this.backButtonText);}else{c.query("#header header:not(.ignore)  #backButton").html(j);}},setBackButtonVisibility:function(j){if(!j){c.query("#header #backButton").css("visibility","hidden");}else{c.query("#header #backButton").css("visibility","visible");}},showMask:function(j){if(!j){j=this.loadingText||"";}c.query("#afui_mask>h1").html(j);c.query("#afui_mask").show();},hideMask:function(){c.query("#afui_mask").hide();},modalReference_:null,showModal:function(m,w){var q=this;this.modalTransition=w||"up";var t=c.query("#modalContainer");if(typeof(m)==="string"){m="#"+m.replace("#","");}var v=c.query(m);this.modalReference_=v;var o=c.query("#afui_modal");if(v.length){var s=this.scrollingDivs.hasOwnProperty(v.attr("id"));var u;if(c.feat.nativeTouchScroll||c.os.desktop||!s){u=v.contents();t.append(u);}else{u=c(v.get(0).childNodes[0]).contents();t.children().eq(0).append(u);}this.runTransition(this.modalTransition,q.modalTransContainer,q.modalWindow,false);c(q.modalWindow).css("display","");c(q.modalWindow).addClass("display","flexContainer");if(s){this.scrollingDivs.modal_container.enable(q.resetScrollers);}else{this.scrollingDivs.modal_container.disable();}t.addClass("panel").show();if(v.data("header")==="none"){o.find("#modalHeader").hide();}else{if(u.filter("header").length>0){o.find("#modalHeader").append(u.filter("header")).show();}else{o.find("#modalHeader").append(c.create("header",{className:"header"}).append(c.create("h1",{html:v.data("title")}).get(0)).append(c.create("a",{className:"button icon close"}).attr("onclick","$.ui.hideModal()").get(0))).show();}}if(v.data("footer")==="none"){o.find("#modalFooter").hide();}else{if(u.filter("footer").length>0){o.find("#modalFooter").append(u.filter("footer")).show();var n=c.query("#modalFooter > footer > a:not(.button)");if(n.length>0){var l=parseFloat(100/n.length);n.css("width",l+"%");}var k=c.query("#modalFooter footer");if(k.length===0){return;}k=k.get(0).childNodes;for(var p=0;p<k.length;p++){if(k[p].nodeType===3){k[p].parentNode.removeChild(k[p]);}}}else{o.find("#modalFooter").hide();}}this.scrollToTop("modal");t.data("panel",m);var j=v.get(0);var r=j.getAttribute("data-load");if(r){this.dispatchPanelEvent(r,j);}v.trigger("loadpanel");}},hideModal:function(){var j=this;var l=c.query("#modalContainer");var n=this.scrollingDivs.hasOwnProperty(this.modalReference_.attr("id"));this.runTransition(j.modalTransition,j.modalWindow,j.modalTransContainer,true);
    this.scrollingDivs.modal_container.disable();var k=c.query(l.data("panel"));var m=k.data("unload");if(m){this.dispatchPanelEvent(m,k.get(0));}k.trigger("unloadpanel");setTimeout(function(){if(c.feat.nativeTouchScroll||c.os.desktop||!n){j.modalReference_.append(c("#modalHeader header"));j.modalReference_.append(l.contents());j.modalReference_.append(c("#modalFooter footer"));}else{j.modalReference_.children().eq(0).append(c("#modalHeader header"));c(j.modalReference_.get(0).childNodes[0]).append(l.children().eq(0).contents());j.modalReference_.children().eq(0).append(c("#modalFooter footer"));}},this.transitionTime);},updatePanel:function(n,l){n="#"+n.replace("#","");var k=c.query(n).get(0);if(!k){return;}var j=c.create("div",{html:l});if(j.children(".panel")&&j.children(".panel").length>0){j=j.children(".panel").get(0);}else{j=j.get(0);}if(k.getAttribute("js-scrolling")&&(k.getAttribute("js-scrolling").toLowerCase()==="yes"||k.getAttribute("js-scrolling").toLowerCase()==="true")){c.cleanUpContent(k.childNodes[0],false,true);c(k.childNodes[0]).html(l);}else{c.cleanUpContent(k,false,true);c(k).html(l);var m=this.scrollingDivs[k.id];if(m&&m.refresh){m.addPullToRefresh();}}if(j.getAttribute("data-title")){k.setAttribute("data-title",j.getAttribute("data-title"));}},updateContentDiv:function(k,j){return this.updatePanel(k,j);},addContentDiv:function(n,o,p,m,l){n=typeof(n)!=="string"?n:n.indexOf("#")===-1?"#"+n:n;var q=c.query(n).get(0);var k,j;if(!q){k=c.create("div",{html:o});if(k.children(".panel")&&k.children(".panel").length>0){k=k.children(".panel").get(0);}else{k=k.get(0);}if(!k.getAttribute("data-title")&&p){k.setAttribute("data-title",p);}j=(k.id)?k.id:n.replace("#","");k.id=j;if(k.id!==n){k.setAttribute("data-crc",n.replace("#",""));}}else{k=q;}k.className="panel";j=k.id;this.addDivAndScroll(k,m,l);q=null;k=null;return j;},addDivAndScroll:function(m,n,s,j){var r=this;var k=false,q;var l=m.style.overflow;var p=l!=="hidden"&&l!=="visible";j=j||this.content;if(!c.feat.nativeTouchScroll&&p&&!c.os.desktop){m.setAttribute("js-scrolling","true");}if(m.getAttribute("js-scrolling")&&(m.getAttribute("js-scrolling").toLowerCase()==="yes"||m.getAttribute("js-scrolling").toLowerCase()==="true")){k=true;p=true;}var o=m.getAttribute("data-title")||m.title;m.title="";m.setAttribute("data-title",o);if(c(m).hasClass("no-scroll")||(m.getAttribute("scrolling")&&m.getAttribute("scrolling")==="no")){p=false;k=false;m.removeAttribute("js-scrolling");}if(!k){j.appendChild(m);q=m;m.style["-webkit-overflow-scrolling"]="none";}else{q=m;j.appendChild(m);if(this.selectBox!==false){this.selectBox.getOldSelects(q.id);}if(this.passwordBox!==false){this.passwordBox.getOldPasswords(q.id);}}if(p){this.scrollingDivs[q.id]=(c(m).scroller({scrollBars:true,verticalScroll:true,horizontalScroll:r.horizontalScroll,vScrollCSS:"afScrollbar",refresh:n,useJsScroll:k,lockBounce:this.lockPageBounce,autoEnable:false}));c(m).addClass("y-scroll");if(r.horizontalScroll){c(m).addClass("x-scroll");}if(s){c.bind(this.scrollingDivs[q.id],"refresh-release",function(t){if(t){s();}});}if(k){c(m).children().eq(0).addClass("afScrollPanel");}}return q.id;},scrollToTop:function(k,j){j=j||"300ms";k=k.replace("#","");if(this.scrollingDivs[k]){this.scrollingDivs[k].scrollToTop(j);}},scrollToBottom:function(k,j){k=k.replace("#","");if(this.scrollingDivs[k]){this.scrollingDivs[k].scrollToBottom(j);}},parsePanelFunctions:function(s,n,q){var l=this;var t=s.getAttribute("data-footer");var k=s.getAttribute("data-header");if(t&&t.toLowerCase()==="none"){l.toggleNavMenu(false);t=false;}else{l.toggleNavMenu(true);}if(t&&l.customFooter!==t){l.customFooter=t;l.updateNavbarElements(t);}else{if(t!==l.customFooter){if(l.customFooter){l.updateNavbarElements(l.defaultFooter);}l.customFooter=false;}}if(k&&k.toLowerCase()==="none"){l.toggleHeaderMenu(false);k=false;}else{l.toggleHeaderMenu(true);}if(k&&l.customHeader!==k){l.customHeader=k;l.updateHeaderElements(k,q);}else{if(k!==l.customHeader){if(l.customHeader){l.updateHeaderElements(l.defaultHeader,q);}l.customHeader=false;}}var o=c(s).find("footer");if(o.length>0){l.customFooter=s.id;o.data("parent",s.id);l.updateNavbarElements(o);}var r=c(s).find("header");if(r.length>0){l.customHeader=s.id;r.data("parent",s.id);l.updateHeaderElements(r,q);}if(s.getAttribute("data-tab")){c.query("#navbar>footer>a:not(.button)").removeClass("pressed");c.query("#navbar #"+s.getAttribute("data-tab")).addClass("pressed");}var p=s.getAttribute("data-left-menu")||s.getAttribute("data-nav");if(p&&this.customMenu!==p){this.customMenu=p;this.updateSideMenuElements(p);}else{if(p!==this.customMenu){if(this.customMenu){this.updateSideMenuElements(this.defaultMenu);}this.customMenu=false;}}var j=s.getAttribute("data-right-menu")||s.getAttribute("data-aside");if(j&&this.customAside!==j){this.customAside=j;this.updateAsideElements(j);}else{if(j!==this.customAside){if(this.customAside){this.updateAsideElements(this.defaultAside);}this.customAside=false;}}if(n){m=n.getAttribute("data-unload");
    if(m){this.dispatchPanelEvent(m,n);}c(n).trigger("unloadpanel");}var m=s.getAttribute("data-load");if(m){this.dispatchPanelEvent(m,s);}c(s).trigger("loadpanel");if(this.isSideMenuOn()){l.toggleSideMenu(false);}},parseScriptTags:function(j){if(!j){return;}c.parseJS(j);},loadContent:function(o,j,m,p,l){if(this.doingTransition){var n=this;this.loadContentQueue.push([o,j,m,p,l]);return;}if(o.length===0){return;}var r=null;var s=true;l=l||document.createElement("a");if(o.indexOf("#")===-1){var q="url"+a(o);var k=c.query("div.panel[data-crc='"+q+"']");if(c.query("#"+o).length>0){s=false;}else{if(k.length>0){s=false;if(l.getAttribute("data-refresh-ajax")==="true"||(l.refresh&&l.refresh===true||this.isAjaxApp)){s=true;}else{o="#"+k.get(0).id;}}else{if(c.query("#"+q).length>0){s=false;if(l.getAttribute("data-refresh-ajax")==="true"||(l.refresh&&l.refresh===true||this.isAjaxApp)){s=true;}else{o="#"+q;}}}}}if(o.indexOf("#")===-1&&s){this.loadAjax(o,j,m,p,l);}else{this.loadDiv(o,j,m,p);}},loadDiv:function(o,j,m,p){var n=this;var r=o.replace("#","");var k=r.indexOf("/");var l="";if(k!==-1){l=r.substr(k);r=r.substr(0,k);}r=c.query("#"+r).get(0);if(!r){c(document).trigger("missingpanel",null,{missingTarget:o});return;}if(r===this.activeDiv&&!m){if(this.isSideMenuOn()){this.toggleSideMenu(false);}return;}this.transitionType=p;var q=this.activeDiv;var s=r;if(r.getAttribute("data-modal")==="true"||r.getAttribute("modal")==="true"){return this.showModal(r.id);}if(q===s){return;}if(j){this.clearHistory();this.pushHistory("#"+this.firstDiv.id,r.id,p,l);}else{if(!m){this.pushHistory(i,r.id,p,l);}}i="#"+r.id+l;this.doingTransition=true;q.style.display="block";s.style.display="block";this.runTransition(p,q,s,m);this.parsePanelFunctions(r,q,m);this.loadContentData(r,j,m,p);if(c.feat.nativeTouchScroll){setTimeout(function(){if(n.scrollingDivs[q.id]){n.scrollingDivs[q.id].disable();}},numOnly(n.transitionTime)+50);}else{if(typeof n.scrollingDivs[q.id]!=="undefined"){n.scrollingDivs[q.id].disable();}}},loadContentData:function(m,q,j,p){var o,k,n,l;if(j){if(this.history.length>0){n=this.history[this.history.length-1];l=n.target.indexOf("/");if(l!==-1){o=n.target.substr(0,l);}else{o=n.target;}k=c.query(o).get(0);if(k){this.setBackButtonText(k.getAttribute("data-title"));}else{this.setBackButtonText("Back");}}}else{if(this.activeDiv.getAttribute("data-title")){this.setBackButtonText(this.activeDiv.getAttribute("data-title"));}else{this.setBackButtonText("Back");}}if(m.getAttribute("data-title")){this.setTitle(m.getAttribute("data-title"));}if(q){this.setBackButtonText(this.firstDiv.getAttribute("data-title"));if(m===this.firstDiv){this.history.length=0;}}c("#header #menubadge").css("float","right");if(this.history.length===0){this.setBackButtonVisibility(false);this.history=[];c("#header #menubadge").css("float","left");}else{if(this.showBackButton&&this.showBackbutton){this.setBackButtonVisibility(true);}}this.activeDiv=m;if(this.scrollingDivs[this.activeDiv.id]){this.scrollingDivs[this.activeDiv.id].enable(this.resetScrollers);}},loadAjax:function(o,k,m,p,l){if(this.activeDiv.id==="afui_ajax"&&o===this.ajaxUrl){return;}var r="url"+a(o);var n=this;if(o.indexOf("http")===-1){o=intel.xdk.webRoot+o;}var j=new XMLHttpRequest();if(l&&typeof(l)!=="object"){l=document.createElement("a");l.setAttribute("data-persist-ajax",true);}l=l||document.createElement("a");j.onreadystatechange=function(){if(j.readyState===4&&j.status===200){this.doingTransition=false;var s;var t=false;var v=c.query("#"+r);if(v.length>0){n.updatePanel(r,j.responseText);v.get(0).setAttribute("data-title",l.title?l.title:o);}else{if(l.getAttribute("data-persist-ajax")||n.isAjaxApp){var u=(l.getAttribute("data-pull-scroller")==="true")?true:false;s=u?function(){l.refresh=true;n.loadContent(o,k,m,p,l);l.refresh=false;}:null;var w=c(j.responseText);if(w.hasClass("panel")){r=w.attr("id");w=w.get(0).innerHTML;}else{w=w.html();}if(c("#"+r).length>0){n.updatePanel("#"+r,w);}else{if(c("div.panel[data-crc='"+r+"']").length>0){n.updatePanel(c("div.panel[data-crc='"+r+"']").get(0).id,w);r=c("div.panel[data-crc='"+r+"']").get(0).id;}else{r=n.addContentDiv(r,j.responseText,l.title?l.title:o,u,s);}}}else{n.updatePanel("afui_ajax",j.responseText);c.query("#afui_ajax").get(0).setAttribute("data-title",l.title?l.title:o);n.loadContent("#afui_ajax",k,m,p);t=true;}}var x=document.createElement("div");c(x).html(j.responseText);n.parseScriptTags(x);if(t){if(n.showLoading){n.hideMask();}return;}n.loadContent("#"+r,k,m,p);if(n.showLoading){n.hideMask();}return null;}else{if(j.readyState===4){c.ui.hideMask();}}};this.ajaxUrl=o;var q=this.useAjaxCacheBuster?o+(o.split("?")[1]?"&":"?")+"cache="+Math.random()*10000000000000000:o;j.open("GET",q,true);j.setRequestHeader("X-Requested-With","XMLHttpRequest");j.send();if(this.showLoading){this.showMask();}},runTransition:function(m,l,k,j){if(!this.availableTransitions[m]){m="default";}if(l.style.display==="none"){l.style.display="block";}if(k.style.display==="none"){k.style.display="block";
}this.availableTransitions[m].call(this,l,k,j);},launch:function(){if(this.hasLaunched===false||this.launchCompleted){this.hasLaunched=true;return;}if(this.isLaunching){return true;}this.isLaunching=true;var v=this;this.viewportContainer=af.query("#afui");this.navbar=af.query("#navbar").get(0);this.content=af.query("#content").get(0);this.header=af.query("#header").get(0);this.menu=af.query("#menu").get(0);this.viewportContainer.on("click","a",function(j){if(v.useInternalRouting){d(j,j.currentTarget);}});var n=null;c.bind(c.touchLayer,"enter-edit",function(j){n=j;});if(c.os.android&&!c.os.androidICS){c.bind(c.touchLayer,"enter-edit-reshape",function(){var j=c(n);var C=j.closest(v.activeDiv);if(C&&C.size()>0){var B=j.offset();var D=C.offset();if(B.bottom>D.bottom&&B.height<D.height){v.scrollingDivs[v.activeDiv.id].scrollToItem(j,"bottom");}}});c.bind(c.touchLayer,"exit-edit-reshape",function(){if(v.activeDiv&&v.activeDiv.id&&v.scrollingDivs.hasOwnProperty(v.activeDiv.id)){v.scrollingDivs[v.activeDiv.id].setPaddings(0,0);}});}if(!this.navbar){this.navbar=c.create("div",{id:"navbar"}).get(0);this.viewportContainer.append(this.navbar);}if(!this.header){this.header=c.create("div",{id:"header"}).get(0);this.viewportContainer.prepend(this.header);}if(!this.content){this.content=c.create("div",{id:"content"}).get(0);c(this.content).insertAfter(this.header);}if(!this.menu){this.menu=c.create("div",{id:"menu",html:"<div id='menu_scroller'></div>"}).get(0);this.viewportContainer.append(this.menu);this.menu.style.overflow="hidden";this.scrollingDivs.menu_scroller=c.query("#menu_scroller").scroller({scrollBars:true,verticalScroll:true,vScrollCSS:"afScrollbar",useJsScroll:!c.feat.nativeTouchScroll,autoEnable:true,lockBounce:this.lockPageBounce,hasParent:true});if(c.feat.nativeTouchScroll){c.query("#menu_scroller").css("height","100%");}this.asideMenu=c.create("div",{id:"aside_menu",html:"<div id='aside_menu_scroller'></div>"}).get(0);this.viewportContainer.append(this.asideMenu);this.asideMenu.style.overflow="hidden";this.scrollingDivs.aside_menu_scroller=c.query("#aside_menu_scroller").scroller({scrollBars:true,verticalScroll:true,vScrollCSS:"afScrollbar",useJsScroll:!c.feat.nativeTouchScroll,autoEnable:true,lockBounce:this.lockPageBounce,hasParent:true});if(c.feat.nativeTouchScroll){c.query("#aside_menu_scroller").css("height","100%");}}c(this.header).html("<a id='backButton' class='button'></a> <h1 id='pageTitle'></h1>"+this.header.innerHTML);this.backButton=c.query("#header #backButton").css("visibility","hidden");c(document).on("click","#header #backButton",function(j){j.preventDefault();v.goBack();});this.titlebar=c.query("#header #pageTitle").get(0);this.addContentDiv("afui_ajax","");var o=c.create("div",{id:"afui_mask",className:"ui-loader",html:"<span class='ui-icon ui-icon-loading spin'></span><h1>Loading Content</h1>"}).css({"z-index":20000,display:"none"});document.body.appendChild(o.get(0));var x=c.create("div",{id:"afui_modal"}).get(0);c(x).hide();x.appendChild(c.create("div",{id:"modalHeader",className:"header"}).get(0));x.appendChild(c.create("div",{id:"modalContainer"}).get(0));x.appendChild(c.create("div",{id:"modalFooter",className:"footer"}).get(0));this.modalTransContainer=c.create("div",{id:"modalTransContainer"}).appendTo(x).get(0);this.viewportContainer.append(x);this.scrollingDivs.modal_container=c.query("#modalContainer").scroller({scrollBars:true,vertical:true,vScrollCSS:"afScrollbar",lockBounce:this.lockPageBounce});this.modalWindow=x;var k={};var z=this.viewportContainer.get(0).querySelectorAll(".panel");for(var u=0;u<z.length;u++){var p=z[u];var t=p;var m=p.id;var w=p.previousSibling;if(p.parentNode&&p.parentNode.id!=="content"){if(t.getAttribute("selected")){this.firstDiv=p;}this.addDivAndScroll(t);c.query("#content").append(p);}else{if(!p.parsedContent){p.parsedContent=1;if(t.getAttribute("selected")){this.firstDiv=p;}this.addDivAndScroll(p);c(p).insertAfter(w);}}if(p.getAttribute("data-defer")){k[p.id]=p.getAttribute("data-defer");}if(!this.firstDiv){this.firstDiv=p;}p=null;}z=null;var y=false;var l=Object.keys(k).length;var q=function(B){c.ajax({url:intel.xdk.webRoot+k[B],success:function(j){if(j.length>0){v.updatePanel(B,j);v.parseScriptTags(c.query("#"+B).get(0));}s++;if(s>=l){y=false;c(document).trigger("defer:loaded");}},error:function(j){console.log("Error with deferred load "+intel.xdk.webRoot+k[B]);s++;if(s>=l){y=false;c(document).trigger("defer:loaded");}}});};if(l>0){y=true;var s=0;for(var r in k){q(r);}}if(this.firstDiv){this.activeDiv=this.firstDiv;if(this.scrollingDivs[this.activeDiv.id]){this.scrollingDivs[this.activeDiv.id].enable();}var A=function(){c.query("#navbar").append(c.create("footer",{id:"defaultNav"}).append(c.query("#navbar").children()));v.defaultFooter="defaultNav";v.prevFooter=c.query("#defaultNav");v.updateNavbarElements(v.prevFooter);var j=c.query("nav").get(0);if(j){v.defaultMenu=c(j);v.updateSideMenuElements(v.defaultMenu);v.prevMenu=v.defaultMenu;}var B=c.query("aside").get(0);
    if(B){v.defaultAside=c(B);v.updateAsideElements(v.defaultAside);v.prevAsideMenu=v.defaultAside;}v.defaultHeader="defaultHeader";c.query("#header").append(c.create("header",{id:"defaultHeader"}).append(c.query("#header").children()));v.prevHeader=c.query("#defaultHeader");c.query("#header").addClass("header");c.query("#navbar").addClass("footer");c.query("#navbar").on("click","footer>a:not(.button)",function(F){c.query("#navbar>footer>a").not(F.currentTarget).removeClass("pressed");c(F.currentTarget).addClass("pressed");});if(c.query("nav").length>0){var E=v.splitview?" splitview":"";c.query("#afui #header").addClass("hasMenu"+E);c.query("#afui #content").addClass("hasMenu"+E);c.query("#afui #navbar").addClass("hasMenu"+E);c.query("#afui #menu").addClass("hasMenu"+E);c.query("#afui #aside_menu").addClass(E);}if(c.query("aside").length>0){c.query("#afui #header, #afui #content, #afui #navbar").addClass("hasAside");}c.query("#afui #menu").addClass("tabletMenu");if(c.ui.splitview&&window.innerWidth>parseInt(c.ui.handheldMinWidth,10)){c.ui.sideMenuWidth=c("#menu").width()+"px";}var C=v.getPanelId(b);var D=(C!==null&&C==="#"+v.firstDiv.id);if(C.length>0&&v.loadDefaultHash&&!D){v.loadContent(b,true,false,"none");}else{i="#"+v.firstDiv.id;v.firstDiv.style.display="block";v.parsePanelFunctions(v.firstDiv);v.loadContentData(v.firstDiv);c.query("#header #backButton").css("visibility","hidden");if(v.firstDiv.getAttribute("data-modal")==="true"||v.firstDiv.getAttribute("modal")==="true"){v.showModal(v.firstDiv.id);}}v.launchCompleted=true;c.query("#afui #splashscreen").remove();setTimeout(function(){c(document).trigger("afui:ready");});};if(y){c(document).one("defer:loaded",A);}else{A();}}else{setTimeout(function(){c(document).trigger("afui:ready");});}c.bind(v,"content-loaded",function(){if(v.loadContentQueue.length>0){var j=v.loadContentQueue.splice(0,1)[0];v.loadContent(j[0],j[1],j[2],j[3],j[4]);}});if(window.navigator.standalone||this.isIntel){this.blockPageScroll();}this.enableTabBar();this.topClickScroll();},topClickScroll:function(){var j=this;document.getElementById("header").addEventListener("click",function(k){if(k.clientY<=15&&k.target.nodeName.toLowerCase()==="h1"){j.scrollingDivs[j.activeDiv.id].scrollToTop("100");}});},blockPageScroll:function(){c.query("#afui #header").bind("touchmove",function(j){j.preventDefault();});},noTransition:function(k,m,j){m.style.display="block";k.style.display="block";var l=this;l.clearAnimations(m);l.css3animate(k,{x:"0%",y:0});l.finishTransition(k);m.style.zIndex=2;k.style.zIndex=1;},finishTransition:function(j,k){j.style.display="none";this.doingTransition=false;if(k){this.clearAnimations(k);}if(j){this.clearAnimations(j);}c.trigger(this,"content-loaded");},clearAnimations:function(j){j.style[c.feat.cssPrefix+"Transform"]="none";j.style[c.feat.cssPrefix+"Transition"]="none";}};var d=function(p,j){var q=document.getElementById("afui");if(j===(q)){return;}if(j.tagName.toLowerCase()!=="a"&&j.parentNode){return d(p,j.parentNode);}if(j.tagName!=="undefined"&&j.tagName.toLowerCase()==="a"){var k=(typeof c.ui.customClickHandler==="function")?c.ui.customClickHandler:false;if(k!==false){if(c.ui.customClickHandler(j,p)){return p.preventDefault();}}if(j.href.toLowerCase().indexOf("javascript:")!==-1||j.getAttribute("data-ignore")){return;}if(j.hash.indexOf("#")===-1&&j.target.length>0){if(j.href.toLowerCase().indexOf("javascript:")!==0){if(c.ui.isIntel){p.preventDefault();intel.xdk.device.launchExternal(j.href);}else{if(!c.os.desktop){p.target.target="_blank";}}}return;}var l=j.href,o=location.protocol+"//"+location.hostname+":"+location.port+location.pathname;if(l.indexOf(o)===0){l=l.substring(o.length);}if(l==="#"||(l.indexOf("#")===l.length-1)||(l.length===0&&j.hash.length===0)){return p.preventDefault();}var n=/^((http|https|file):\/\/)/;if(j.href.indexOf(":")!==-1&&n.test(j.href)){p.preventDefault();}var m=j.getAttribute("data-transition");var r=j.getAttribute("data-resetHistory");r=r&&r.toLowerCase()==="true"?true:false;l=j.hash.length>0?j.hash:l;c.ui.loadContent(l,r,0,m,j);return;}};var h="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D";
    var a=function(o,l){if(l===undefined){l=0;}var p=0;var j=0;l=l^(-1);for(var k=0,m=o.length;k<m;k++){p=(l^o.charCodeAt(k))&255;j="0x"+h.substr(p*9,8);l=(l>>>8)^j;}return(l^(-1))>>>0;};c.ui=new e();c.ui.init=true;c(window).trigger("afui:preinit");c(window).trigger("afui:init");})(af);(function(a){a(document).one("intel.xdk.device.ready",function(){a.ui.isIntel=true;setTimeout(function(){document.getElementById("afui").style.height="100%";document.body.style.height="100%";document.documentElement.style.minHeight=window.innerHeight;},30);});if(a.feat.nativeTouchScroll){document.addEventListener("orientationchange",function(c){if(a.ui.scrollingDivs[a.ui.activeDiv.id]){var b=a.ui.scrollingDivs[a.ui.activeDiv.id];if(!b){return;}if(b.el.scrollTop===0){b.disable();setTimeout(function(){b.enable();},300);}if(b.refresh){b.updateP2rHackPosition();}}});}})(af);(function(b){function a(d,f,c){var e=this;if(c){f.style.zIndex=1;d.style.zIndex=2;e.clearAnimations(f);e.css3animate(d,{x:"0%",time:b.transitionTime,opacity:0.1,complete:function(g){if(g){e.finishTransition(d,f);return;}e.css3animate(d,{x:"-100%",opacity:1,complete:function(){e.finishTransition(d);}});f.style.zIndex=2;d.style.zIndex=1;}});}else{d.style.zIndex=1;f.style.zIndex=2;f.style.opacity=0;e.css3animate(f,{x:"0%",opacity:0.1,complete:function(){e.css3animate(f,{x:"0%",time:b.transitionTime,opacity:1,complete:function(g){if(g){e.finishTransition(d,f);return;}e.clearAnimations(f);e.css3animate(d,{x:"-100%",y:0,complete:function(){e.finishTransition(d);}});}});}});}}b.availableTransitions.fade=a;})(af.ui);(function(b){function a(d,f,c){var e=this;if(c){e.css3animate(f,{x:"100%",scale:0.8,rotateY:"180deg",complete:function(){e.css3animate(f,{x:"0%",scale:1,time:b.transitionTime,rotateY:"0deg",complete:function(){e.clearAnimations(f);}});}});e.css3animate(d,{x:"100%",time:b.transitionTime,scale:0.8,rotateY:"180deg",complete:function(){e.css3animate(d,{x:"-100%",opacity:1,scale:1,rotateY:"0deg",complete:function(){e.finishTransition(d);}});f.style.zIndex=2;d.style.zIndex=1;}});}else{d.style.zIndex=1;f.style.zIndex=2;e.css3animate(f,{x:"100%",scale:0.8,rotateY:"180deg",complete:function(){e.css3animate(f,{x:"0%",scale:1,time:b.transitionTime,rotateY:"0deg",complete:function(){e.clearAnimations(f);}});}});e.css3animate(d,{x:"100%",time:b.transitionTime,scale:0.8,rotateY:"180deg",complete:function(){e.css3animate(d,{x:"-100%",opacity:1,scale:1,rotateY:"0deg",complete:function(){e.finishTransition(d);}});f.style.zIndex=2;d.style.zIndex=1;}});}}b.availableTransitions.flip=a;})(af.ui);(function(b){function a(d,f,c){var e=this;if(c){f.style.zIndex=1;d.style.zIndex=2;e.clearAnimations(f);e.css3animate(d,{x:"0%",time:b.transitionTime,opacity:0.1,scale:0.2,origin:"50% 50%",complete:function(g){if(g){e.finishTransition(d);return;}e.css3animate(d,{x:"-100%",complete:function(){e.finishTransition(d);}});f.style.zIndex=2;d.style.zIndex=1;}});}else{d.style.zIndex=1;f.style.zIndex=2;e.css3animate(f,{x:"0%",scale:0.2,origin:"50%"+" 50%",opacity:0.1,time:"0ms",complete:function(){e.css3animate(f,{x:"0%",time:b.transitionTime,scale:1,opacity:1,origin:"0%"+" 0%",complete:function(g){if(g){e.finishTransition(d,f);return;}e.clearAnimations(f);e.css3animate(d,{x:"100%",y:0,complete:function(){e.finishTransition(d);}});}});}});}}b.availableTransitions.pop=a;})(af.ui);(function(b){function a(d,f,c){var e=this;if(c){e.css3animate(d,{x:"0%",y:"0%",complete:function(){e.css3animate(d,{x:"100%",time:b.transitionTime,complete:function(){e.finishTransition(d,f);}}).link(f,{x:"0%",time:b.transitionTime});}}).link(f,{x:"-100%",y:"0%"});}else{e.css3animate(d,{x:"0%",y:"0%",complete:function(){e.css3animate(d,{x:"-100%",time:b.transitionTime,complete:function(){e.finishTransition(d,f);}}).link(f,{x:"0%",time:b.transitionTime});}}).link(f,{x:"100%",y:"0%"});}}b.availableTransitions.slide=a;b.availableTransitions["default"]=a;})(af.ui);(function(a){function b(d,f,c){var e=this;if(c){d.style.zIndex=2;f.style.zIndex=1;e.css3animate(d,{y:"0%",x:"0%",complete:function(){e.css3animate(d,{y:"-100%",time:a.transitionTime,complete:function(){e.finishTransition(d,f);}});}});}else{d.style.zIndex=1;f.style.zIndex=2;e.css3animate(f,{y:"-100%",x:"0%",time:"10ms",complete:function(){e.css3animate(f,{y:"0%",time:a.transitionTime,complete:function(){e.finishTransition(d,f);}});}});}}a.availableTransitions.down=b;})(af.ui);(function(b){function a(d,f,c){var e=this;if(c){d.style.zIndex=2;f.style.zIndex=1;e.css3animate(d,{y:"0%",x:"0%",complete:function(){e.css3animate(d,{y:"100%",time:b.transitionTime,complete:function(){e.finishTransition(d,f);}});}});}else{d.style.zIndex=1;f.style.zIndex=2;e.css3animate(f,{y:"100%",x:"0%",time:"10ms",complete:function(){e.css3animate(f,{y:"0%",time:b.transitionTime,complete:function(){e.finishTransition(d,f);}});}});}}b.availableTransitions.up=a;})(af.ui);(function(b){if(!b){throw"This plugin requires AFUi";}function a(){b.ui.isWin8=true;if(!b.os.ie){return;}if(!b.ui.isSideMenuEnabled()){return;
}b.ui.ready(function(){if(window.innerWidth>b.ui.handheldMinWidth){return true;}if(b.ui.slideSideMenu){b.ui.slideSideMenu=false;}b.query("#afui #navbar footer").append("<a id='metroMenu' onclick='$.ui.toggleSideMenu()'>\u2022\u2022\u2022</a>");var c=b.query("#afui #navbar").find("a").not(".button");if(c.length>0){c.data("ignore-pressed","true").data("resetHistory","true");var d=parseFloat(100/c.length);c.css("width",d+"%");}var e=b.ui.updateNavbarElements;b.ui.updateNavbarElements=function(){e.apply(b.ui,arguments);if(b.query("#afui #navbar #metroMenu").length===1){return;}b.query("#afui #navbar footer").append("<a id='metroMenu' onclick='$.ui.toggleSideMenu()'>\u2022\u2022\u2022</a>");};b.ui.isSideMenuOn=function(){var f=parseInt(b.getCssMatrix(b("#navbar")).f,10)<0?true:false;return this.isSideMenuEnabled()&&f;};b.ui.toggleRightSideMenu=function(f,q,i){if((!this.isAsideMenuEnabled())||this.togglingAsideMenu){return;}var h=true;if(!h&&!this.isSideMenuEnabled()){return;}if(!h&&b.ui.splitview){return;}var l=this;var g=b("#menu");var n=b.query("#aside_menu");var j=b.query("#content,  #header, #navbar");var m=b.query(".afui_panel_mask");i=i||this.transitionTime;var k=b("#aside_menu").css("display")==="block";var o=h?"-"+l.sideMenuWidth:l.sideMenuWidth;if(m.length===0&&window.innerWidth<b.ui.handheldMinWidth){j.append("<div class='afui_panel_mask'></div>");m=b.query(".afui_panel_mask");b(".afui_panel_mask").bind("click",function(){b.ui.toggleSideMenu(false,null,null,h);});}var p=this.getSideMenuPosition();if(k&&!h&&p<0){k=false;}else{if(k&&h&&p>0){k=false;}}if(f===2||(!k&&((f!==undefined&&f!==false)||f===undefined))){this.togglingSideMenu=true;if(!h){g.show();}else{n.show();}l.css3animate(j,{x:o,time:i,complete:function(r){l.togglingSideMenu=false;j.vendorCss("Transition","");if(q){q(r);}if(m.length!==0&&window.innerWidth<b.ui.handheldMinWidth){m.show();}}});}else{if(f===undefined||(f!==undefined&&f===false)){this.togglingSideMenu=true;l.css3animate(j,{x:"0px",time:i,complete:function(r){j.vendorCss("Transition","");j.vendorCss("Transform","");l.togglingSideMenu=false;if(q){q(r);}if(!b.ui.splitview){g.hide();}n.hide();if(m.length!==0&&window.innerWidth<b.ui.handheldMinWidth){m.hide();}}});}}};b.ui.toggleLeftSideMenu=function(i,k){if(!this.isSideMenuEnabled()||this.togglingSideMenu){return;}this.togglingSideMenu=true;var h=this;var j=b.query("#menu");var g=b.query("#navbar");var f=this.isSideMenuOn();if(i===2||(!f&&((i!==undefined&&i!==false)||i===undefined))){j.show();h.css3animate(g,{y:"-150px",time:b.ui.transitionTime,complete:function(){h.togglingSideMenu=false;if(k){k(true);}}});h.css3animate(j,{y:"0px",time:b.ui.transitionTime});}else{if(i===undefined||(i!==undefined&&i===false)){h.css3animate(g,{y:"0",time:b.ui.transitionTime,complete:function(){h.togglingSideMenu=false;if(k){k(true);}j.hide();}});h.css3animate(j,{y:"150px",time:b.ui.transitionTime});}}};});}if(!b.ui){b(document).ready(function(){a();});}else{b.ui.ready(function(){a();});}})(af);

/*!art-template - Template Engine | http://aui.github.com/artTemplate/*/
!function(){function a(a){return a.replace(t,"").replace(u,",").replace(v,"").replace(w,"").replace(x,"").split(/^$|,+/)}function b(a){return"'"+a.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function c(c,d){function e(a){return m+=a.split(/\n/).length-1,k&&(a=a.replace(/[\n\r\t\s]+/g," ").replace(/<!--.*?-->/g,"")),a&&(a=s[1]+b(a)+s[2]+"\n"),a}function f(b){var c=m;if(j?b=j(b,d):g&&(b=b.replace(/\n/g,function(){return m++,"$line="+m+";"})),0===b.indexOf("=")){var e=l&&!/^=[=#]/.test(b);if(b=b.replace(/^=[=#]?|[\s;]*$/g,""),e){var f=b.replace(/\s*\([^\)]+\)/,"");n[f]||/^(include|print)$/.test(f)||(b="$escape("+b+")")}else b="$string("+b+")";b=s[1]+b+s[2]}return g&&(b="$line="+c+";"+b),r(a(b),function(a){if(a&&!p[a]){var b;b="print"===a?u:"include"===a?v:n[a]?"$utils."+a:o[a]?"$helpers."+a:"$data."+a,w+=a+"="+b+",",p[a]=!0}}),b+"\n"}var g=d.debug,h=d.openTag,i=d.closeTag,j=d.parser,k=d.compress,l=d.escape,m=1,p={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},q="".trim,s=q?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],t=q?"$out+=text;return $out;":"$out.push(text);",u="function(){var text=''.concat.apply('',arguments);"+t+"}",v="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+t+"}",w="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(g?"$line=0,":""),x=s[0],y="return new String("+s[3]+");";r(c.split(h),function(a){a=a.split(i);var b=a[0],c=a[1];1===a.length?x+=e(b):(x+=f(b),c&&(x+=e(c)))});var z=w+x+y;g&&(z="try{"+z+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+b(c)+".split(/\\n/)[$line-1].replace(/^[\\s\\t]+/,'')};}");try{var A=new Function("$data","$filename",z);return A.prototype=n,A}catch(B){throw B.temp="function anonymous($data,$filename) {"+z+"}",B}}var d=function(a,b){return"string"==typeof b?q(b,{filename:a}):g(a,b)};d.version="3.0.0",d.config=function(a,b){e[a]=b};var e=d.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},f=d.cache={};d.render=function(a,b){return q(a,b)};var g=d.renderFile=function(a,b){var c=d.get(a)||p({filename:a,name:"Render Error",message:"Template not found"});return b?c(b):c};d.get=function(a){var b;if(f[a])b=f[a];else if("object"==typeof document){var c=document.getElementById(a);if(c){var d=(c.value||c.innerHTML).replace(/^\s*|\s*$/g,"");b=q(d,{filename:a})}}return b};var h=function(a,b){return"string"!=typeof a&&(b=typeof a,"number"===b?a+="":a="function"===b?h(a.call(a)):""),a},i={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},j=function(a){return i[a]},k=function(a){return h(a).replace(/&(?![\w#]+;)|[<>"']/g,j)},l=Array.isArray||function(a){return"[object Array]"==={}.toString.call(a)},m=function(a,b){var c,d;if(l(a))for(c=0,d=a.length;d>c;c++)b.call(a,a[c],c,a);else for(c in a)b.call(a,a[c],c)},n=d.utils={$helpers:{},$include:g,$string:h,$escape:k,$each:m};d.helper=function(a,b){o[a]=b};var o=d.helpers=n.$helpers;d.onerror=function(a){var b="Template Error\n\n";for(var c in a)b+="<"+c+">\n"+a[c]+"\n\n";"object"==typeof console&&console.error(b)};var p=function(a){return d.onerror(a),function(){return"{Template Error}"}},q=d.compile=function(a,b){function d(c){try{return new i(c,h)+""}catch(d){return b.debug?p(d)():(b.debug=!0,q(a,b)(c))}}b=b||{};for(var g in e)void 0===b[g]&&(b[g]=e[g]);var h=b.filename;try{var i=c(a,b)}catch(j){return j.filename=h||"anonymous",j.name="Syntax Error",p(j)}return d.prototype=i.prototype,d.toString=function(){return i.toString()},h&&b.cache&&(f[h]=d),d},r=n.$each,s="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",t=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|[\s\t\n]*\.[\s\t\n]*[$\w\.]+/g,u=/[^\w$]+/g,v=new RegExp(["\\b"+s.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),w=/^\d[^,]*|,\d[^,]*/g,x=/^,+|,+$/g;e.openTag="{{",e.closeTag="}}";var y=function(a,b){var c=b.split(":"),d=c.shift(),e=c.join(":")||"";return e&&(e=", "+e),"$helpers."+d+"("+a+e+")"};e.parser=function(a,b){a=a.replace(/^\s/,"");var c=a.split(" "),e=c.shift(),f=c.join(" ");switch(e){case"if":a="if("+f+"){";break;case"else":c="if"===c.shift()?" if("+c.join(" ")+")":"",a="}else"+c+"{";break;case"/if":a="}";break;case"each":var g=c[0]||"$data",h=c[1]||"as",i=c[2]||"$value",j=c[3]||"$index",k=i+","+j;"as"!==h&&(g="[]"),a="$each("+g+",function("+k+"){";break;case"/each":a="});";break;case"echo":a="print("+f+");";break;case"print":case"include":a=e+"("+c.join(",")+");";break;default:if(-1!==f.indexOf("|")){var l=b.escape;0===a.indexOf("#")&&(a=a.substr(1),l=!1);for(var m=0,n=a.split("|"),o=n.length,p=l?"$escape":"$string",q=p+"("+n[m++]+")";o>m;m++)q=y(q,n[m]);a="=#"+q}else a=d.helpers[e]?"=#"+e+"("+c.join(",")+");":"="+a}return a},"function"==typeof define?define(function(){return d}):"undefined"!=typeof exports?module.exports=d:this.template=d}();

(function(){var b="json/";var c=function(g,i,h,f){d("get",g,i,h,f);};var a=function(g,i,h,f){d("post",g,i,h,f);};var d=function(i,h,k,j,f){k.random=Math.random();h=b+h;var g={url:h,type:i||"get",data:k,timeout:120000,mySuccess:j,myError:f,success:function(l){if(l.status=="success"){if(j){j(l);}}else{App.showToast("\u9519\u8bef\uff1a"+l.msg,"error");if(f){f();}}},cache:i=="get"?false:true,error:function(m,l){e(m,l,h);if(f){f();}},dataType:"json"};$.ajax(g);};function e(j,h,g){var i=j.responseText,f=j.status;if(h=="timeout"){App.showToast("\u8fde\u63a5\u670d\u52a1\u5668\u8d85\u65f6,\u8bf7\u68c0\u67e5\u7f51\u7edc\u662f\u5426\u7545\u901a\uff01","error");}else{if(h=="parsererror"){if(i&&i.indexOf("script_umlogin")!=-1){App.showToast("\u4f60\u8fd8\u672a\u767b\u9646\uff0c\u8bf7\u8fdb\u884c\u767b\u9646\u3002","error");}else{App.showToast("\u89e3\u6790\u8fd4\u56de\u7ed3\u679c\u5931\u8d25:"+f,"error");}}else{if(h=="error"){App.showToast("\u8fde\u63a5\u670d\u52a1\u5668\u5931\u8d25\uff1a"+f,"error");}else{App.showToast("\u672a\u77e5\u5f02\u5e38\uff1a"+f,"error");}}}}window.MpassAPI={"queryTaskList":function(f,h,g){c("queryFileManagerTaskList.do",{pageNo:f},h,g);},"getTaskInfo":function(g,h,f){c("getTaskInfo.do",{taskId:g},h,f);},"getAttachSealInfo":function(g,h,f){c("getTaskInfo.do",{taskId:g},h,f);},"getBargainInfo":function(g,h,f){c("getBargainInfo.do",{taskId:g},h,f);},"submitApply":function(g,h,f){g.actionNo="111";c("submitApply.do",g,h,f);},"returnApply2User":function(g,h,f){g.actionNo="113";c("jumpNextFlowStep.do",g,h,f);},"invalidApplication":function(g,h,f){g.actionNo="108";c("jumpNextFlowStep.do",g,h,f);},"getTaskFlow":function(g,h,f){c("getTaskFlow.do",{requestID:g},h,f);},"queryRequestChildDept":function(g,h,f){c("queryRequestChildDept.do",g,h,f);},"queryRequestParentDept":function(g,h,f){c("queryRequestParentDept.do",g,h,f);},"toRequestDept":function(g,h,f){c("updateApplicationAndJumpNext.do",g,h,f);},"queryUserList":function(g,h,f){c("queryUserList.do",g,h,f);},"submitApply2EOA":function(g,h,f){c("submitApply2EOA.do",g,h,f);},"coordinatorChangeDept":function(g,h,f){c("coordinatorChangeDept.do",g,h,f);}};})();

(function(){template.defaults.openTag="{";template.defaults.closeTag="}";template.helper("timeStampFormat",function(b,d){if(b.replace(/(^\s*)|(\s*$)/g,"")==""){return"";}var a=new Date();a.setTime(b);var c={"M":a.getMonth()+1,"d":a.getDate(),"h":a.getHours(),"m":a.getMinutes(),"s":a.getSeconds(),"q":Math.floor((a.getMonth()+3)/3),"S":a.getMilliseconds()};d=d.replace(/([yMdhmsqS])+/g,function(g,f){var e=c[f];if(e!==undefined){if(g.length>1){e="0"+e;e=e.substr(e.length-2);}return e;}else{if(f==="y"){return(a.getFullYear()+"").substr(4-g.length);}}return g;});return d;});template.helper("convert2Html",function(a){a=a.replace(/\r\n/g,"<br>");a=a.replace(/\n/g,"<br>");return a;});})();(function(a){a.ui.autoLaunch=false;a.ui.animateHeaders=false;a.ui.resetScrollers=false;a.ui.useOSThemes=false;a.ui.backButtonText="\u8fd4\u56de";a.ui.loadingText="\u52aa\u529b\u52a0\u8f7d\u4e2d...";window.App={header:"",content:"",footer:"",defaultPage:"#taskList",pages:[],htmlRoot:"html",delayLoaded:{},currentHash:window.location.hash,page:function(c,b){return((c&&b)?this.addPage:this.getPage).call(this,c,b);},addPage:function(c,b){this.pages[c]=new b();},getPage:function(b){return this.pages[b];},getParams:function(h){var d=h?h:App.currentHash;var g,j={};if(d.indexOf("?")!=-1||d.indexOf("#")!=-1){var b=d.split("?");if(d.indexOf("?")!=-1){b=d.split("?");g=b[1];}if(d.indexOf("#")!=-1){b=d.split("#");g=b[1];b=g.split("/");g=b[1];}if(g){var c,f;c=g.split("&");for(var e=0;e<c.length;e++){if(!c[e]){continue;}f=c[e].split("=");j[f[0]]=f[1];}}}return j;},tmpl:function(c,d){var b=d?template(c,d):"";return b;},toggleSubFooter:function(b,f){var c=a("#navbar");var e=c.find(".subNavBar");var d=c.data("showSubFooter");if(d=="true"){this.hideSubFooter(f);}else{this.showSubFooter(f);}},showSubFooter:function(e){var b=a("#navbar");var d=b.find(".subNavBar");var c=b.data("showSubFooter");if(!c||c=="false"){b.data("originalHeight",b.height());b.css3Animate({height:(b.height()+d.height())+"px",time:e+"ms",});b.data("showSubFooter","true");}},hideSubFooter:function(e){var b=a("#navbar");var d=b.find(".subNavBar");var c=b.data("showSubFooter");if(c=="true"){b.css3Animate({height:b.data("originalHeight")+"px",time:e+"ms",});b.data("showSubFooter","false");}},popup:function(b){b.title="\u63d0\u793a";b.cancelText="\u53d6\u6d88";b.doneText="\u786e\u5b9a";a.query("#afui").popup(b);},alert:function(c){var b={};b.cancelOnly=true;b.message=c;b.title="\u63d0\u793a";b.cancelText="\u786e\u5b9a";a.query("#afui").popup(b);},loadHtml:function(d,c){var b="html/"+d+".html";a.ajax({url:b,success:function(e){App.delayLoaded[d]=true;c(e);},error:function(e){App.alert("\u52a0\u8f7d\u9875\u9762\u8d44\u6e90\u51fa\u9519\uff1a"+b+" "+e);App.delayLoaded[d]=false;}});},createPageDiv:function(b,e){var d=a.create("div",{id:b,className:"panel",html:e});App.content.append(d);var c=App.page(b);if(c){if(c.title){d.attr("title",c.title);}if(c.header){d.data("header",c.header);}if(c.footer){d.data("footer",c.footer);}if(c.scroller==="none"){d.css("overflow","hidden");}if(c.xScroll){d.addClass("x-scroll");}if(c.jsScrolling){d.attr("js-scrolling","true");}if(a.ui.launchCompleted===true){a.ui.addContentDiv(b,e);}if(a.isFunction(c.init)){console.log(b+".init start");c.init();c.inited=true;console.log(b+".init end");}}},loadPageDiv:function(g,e){var c=this;var f=a.ui.getPanelId(g);if(f){c.currentHash=g;console.log("App.currentHash="+c.currentHash);var d=f.replace("#","");var b=a.query("#"+d).get(0);if(!b){if(a.ui.showLoading){c.showMask();}App.loadHtml(d,function(h){App.createPageDiv(d,h);if(a.ui.showLoading){c.hideMask();}if(e){e();}});}else{if(e){e();}}}},gotoPage:function(b){this.loadPageDiv(b,function(){a.ui.loadDiv(b);});},init:function(){var c=this;var b=function(i,h){var d=a(i);if(d.attr("beforClickHandle")&&!d.attr("beforClickHandle")()){return true;}var f=a.ui.getPanelId(i.hash).replace("#","");var g=a.query("#"+f).get(0);if(g){App.currentHash=i.hash;return false;}else{c.loadPageDiv(i.hash,function(){if(i.href.toLowerCase().indexOf("javascript:")!==-1||i.getAttribute("data-ignore")){return;}if(i.hash.indexOf("#")===-1&&i.target.length>0){if(i.href.toLowerCase().indexOf("javascript:")!==0){if(a.ui.isIntel){h.preventDefault();intel.xdk.device.launchExternal(i.href);}else{if(!a.os.desktop){h.target.target="_blank";}}}return;}var k=i.href,l=location.protocol+"//"+location.hostname+":"+location.port+location.pathname;if(k.indexOf(l)===0){k=k.substring(l.length);}if(k==="#"||(k.indexOf("#")===k.length-1)||(k.length===0&&i.hash.length===0)){return h.preventDefault();}var m=/^((http|https|file):\/\/)/;if(i.href.indexOf(":")!==-1&&m.test(i.href)){h.preventDefault();}var j=i.getAttribute("data-transition");var e=i.getAttribute("data-resetHistory");e=e&&e.toLowerCase()==="true"?true:false;k=i.hash.length>0?i.hash:k;a.ui.loadContent(k,e,0,j,i);});return true;}};a.ui.customClickHandler=b;a(document).ready(function(){c.header=a("#header");c.content=a("#content");c.footer=a("#navbar");c.content.on("loadpanel","div.panel",function(g){var f=c.page(g.target.id);
    if(f){f.historyLenght=a.ui.history.length;if(f.backCache===false||(!f._backCache&&a.isFunction(f.load))){console.log(g.target.id+".load start");f.load();console.log(g.target.id+".load end");}}});c.content.on("unloadpanel","div.panel",function(h){var g=c.pages[h.target.id];if(g){var f=g.historyLenght;g.historyLenght=a.ui.history.length;if(f<g.historyLenght){g._backCache=true;}else{g._backCache=false;}if(a.isFunction(g.unload)){console.log(h.target.id+".unload start");g.unload();console.log(h.target.id+".unload end");}}if(a.ui.showLoading){a.ui.hideMask();}c.hideSubFooter();});var d=window.location.hash;var e=a.ui.getPanelId(d);e=e||c.defaultPage;if(e!=c.defaultPage){App.loadPageDiv(c.defaultPage);}d=d||c.defaultPage;console.log("addFirstDiv:"+d);App.loadPageDiv(d,function(){a.ui.launch();});});a.ui.ready(function(){a(document).off("click","#header #backButton");c.header.on("tap","#backButton, .backButton",function(){App.goBack();});});}};App.init();})($);App.Toast=(function(f){var g="toast",d,h,b={toast:'<a href="#">{value}</a>',success:'<a class="icon check-circle"> </a>{value}',error:'<a class="icon close-circle"> </a>{value}',info:'<a class="icon info-circle"> </a>{value}'};var e=function(){f("#afui").append('<div id="mp_toast" style="z-index: 30000; display: none;">toast</div>');d=f("#mp_toast");};var c=function(){d.hide();};var a=function(l,i,k){i=i||"toast";if(h){clearTimeout(h);}var j=i.split(/\s/);g=j[0];d.attr("class",i).html(b[g].replace("{value}",l)).show();if(k!==0){h=setTimeout(c,k||2000);}};e();return{show:a,hide:c};})($);App.showToast=function(c,a,b){App.Toast.show(c,a,b);};App.goBack=function(a){a=a||1;self.currentHash=$.ui.history[$.ui.history.length-a].target;console.log("App.currentHash="+self.currentHash);$.ui.goBack(a);};App.showMask=function(a){$.ui.showMask(a);};App.hideMask=function(){$.ui.hideMask();};function showHide(a,c){var b=$("#"+a)[0];if(c){if(c.className=="expanded"){c.className="collapsed";}else{c.className="expanded";}}$(b).toggle();}